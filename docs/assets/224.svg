<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1611px" height="1561px" viewBox="-0.5 -0.5 1611 1561" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-05T15:22:23.605Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;YzYIiPa3OC-VsVjh5b4W&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;WkN9kcOO-4Hw-1vHqO9S&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 350 140 L 350 163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 168.88 L 346.5 161.88 L 350 163.63 L 353.5 161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="290" y="80" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 110px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">添加sku商品至购物车</div></div></div></foreignObject><text x="350" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">添加sku商品至购物车</text></switch></g><rect x="420" y="100" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 110px; margin-left: 460px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品详情页</div></div></div></foreignObject><text x="460" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品详情页</text></switch></g><path d="M 350 230 L 350 253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 258.88 L 346.5 251.88 L 350 253.63 L 353.5 251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="290" y="170" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 200px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">开始请求拦截器preHandle</div></div></div></foreignObject><text x="350" y="204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">开始请求拦截器preHandle</text></switch></g><rect x="290" y="0" width="120" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">商品加入购物车</div></div></div></foreignObject><text x="350" y="34" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品加入购物车</text></switch></g><path d="M 350 340 L 350 383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 388.88 L 346.5 381.88 L 350 383.63 L 353.5 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 405 300 L 453.63 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 300 L 451.88 303.5 L 453.63 300 L 451.88 296.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 300px; margin-left: 433px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="433" y="303" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 350 260 L 405 300 L 350 340 L 295 300 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 300px; margin-left: 296px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">是否有用户登陆</div></div></div></foreignObject><text x="350" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">是否有用户登陆</text></switch></g><rect x="325" y="350" width="30" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 360px; margin-left: 340px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">否</div></div></div></foreignObject><text x="340" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否</text></switch></g><path d="M 350 470 L 350 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 498.88 L 346.5 491.88 L 350 493.63 L 353.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 410 430 L 453.63 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 458.88 430 L 451.88 433.5 L 453.63 430 L 451.88 426.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 430px; margin-left: 435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="435" y="433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 350 390 L 410 430 L 350 470 L 290 430 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 430px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检查cookie里是否带有临时用户userKey</div></div></div></foreignObject><text x="350" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">检查cookie里是否带有临时用户userKey</text></switch></g><path d="M 350 560 L 350 603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 608.88 L 346.5 601.88 L 350 603.63 L 353.5 601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="270" y="500" width="160" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 530px; margin-left: 271px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">新生成一个临时用户userKey，封装到用户信息中</div></div></div></foreignObject><text x="350" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">新生成一个临时用户userKey，封装到用户信息中</text></switch></g><rect x="345" y="470" width="30" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 480px; margin-left: 360px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">否</div></div></div></foreignObject><text x="360" y="484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否</text></switch></g><path d="M 350 670 L 350 713.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 718.88 L 346.5 711.88 L 350 713.63 L 353.5 711.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="290" y="610" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">封装完的用户信息放入ThreadLocal</div></div></div></foreignObject><text x="350" y="644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">封装完的用户信息放入ThreadLocal</text></switch></g><path d="M 130 170 L 125 170 Q 120 170 120 180 L 120 410 Q 120 420 115 420 L 112.5 420 Q 110 420 115 420 L 117.5 420 Q 120 420 120 430 L 120 660 Q 120 670 125 670 L 130 670" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="405" width="90" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 420px; margin-left: 45px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">拦截器<br />preHandle逻辑</div></div></div></foreignObject><text x="45" y="424" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器&#xa;preHandle逻辑</text></switch></g><path d="M 125 670 L 290 670" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 530 330 L 530 360 L 350 360 L 350 383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 388.88 L 346.5 381.88 L 350 383.63 L 353.5 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="460" y="270" width="140" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 300px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出session中登陆用户的id，封装到用户信息中</div></div></div></foreignObject><text x="530" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出session中登陆用户的id，封装到用户信息中</text></switch></g><path d="M 530 460 L 520 460 L 520 580 L 350 580 L 350 603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 608.88 L 346.5 601.88 L 350 603.63 L 353.5 601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="460" y="400" width="140" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 430px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出cookie中临时用户的userKey，封装到用户信息中</div></div></div></foreignObject><text x="530" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出cookie中临时用户的userKey，封装到用户信息中</text></switch></g><path d="M 130 170 L 290 170" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 290 760 L 240 760 L 240 843.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 848.88 L 236.5 841.88 L 240 843.63 L 243.5 841.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 796px; margin-left: 239px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="239" y="799" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 410 760 L 462.5 760 L 462.5 843.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 462.5 848.88 L 459 841.88 L 462.5 843.63 L 466 841.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 791px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="465" y="794" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 350 720 L 410 760 L 350 800 L 290 760 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 760px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出threadLocal<br />根据用户信息判断是否有用户登陆</div></div></div></foreignObject><text x="350" y="764" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出threadLocal...</text></switch></g><path d="M 240 910 L 240 940 L 350 940 L 350 963.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 968.88 L 346.5 961.88 L 350 963.63 L 353.5 961.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="170" y="850" width="140" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 880px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>根据key<br />eshopblvd:cart:{userId}</span><br /></div><div>获取在线购物车<br /></div></div></div></div></foreignObject><text x="240" y="884" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据key...</text></switch></g><path d="M 462.5 910 L 462.5 940 L 350 940 L 350 963.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 968.88 L 346.5 961.88 L 350 963.63 L 353.5 961.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="390" y="850" width="145" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 880px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div><span>根据key<br />eshopblvd:cart:{userKey}</span><br /></div><div>获取离线购物车<span><br /></span></div></div></div></div></foreignObject><text x="463" y="884" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据key...</text></switch></g><rect x="535" y="865" width="220" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 880px; margin-left: 645px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">注：离线购物车和在线（用户）购物车<br />是根据key分开单独存放的</div></div></div></foreignObject><text x="645" y="884" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">注：离线购物车和在线（用户）购物车&#xa;是根据key分开单独存放的</text></switch></g><path d="M 130 720 L 125 720 Q 120 720 120 730 L 120 805 Q 120 815 115 815 L 112.5 815 Q 110 815 115 815 L 117.5 815 Q 120 815 120 825 L 120 900 Q 120 910 125 910 L 130 910" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 130 720 L 350 720" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 125 910 L 170 910" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="30" y="805" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 815px; margin-left: 70px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">获取购物车</div></div></div></foreignObject><text x="70" y="819" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取购物车</text></switch></g><path d="M 275 1015 L 240 1015 L 240 1073.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 240 1078.88 L 236.5 1071.88 L 240 1073.63 L 243.5 1071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1035px; margin-left: 240px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="240" y="1038" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 425 1015 L 462.5 1015 L 462.5 1073.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 462.5 1078.88 L 459 1071.88 L 462.5 1073.63 L 466 1071.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1032px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="464" y="1035" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 350 970 L 425 1015 L 350 1060 L 275 1015 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1015px; margin-left: 276px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据skuId在购物车查找有没有相对应的购物项</div></div></div></foreignObject><text x="350" y="1019" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据skuId在购物车查找有没有相对应的购物项</text></switch></g><path d="M 240 1140 L 240 1230 L 350 1230 L 350 1283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 1288.88 L 346.5 1281.88 L 350 1283.63 L 353.5 1281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="180" y="1080" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1110px; margin-left: 181px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">将查找到的这项商品购物车项中数量累加一下，继续放入redis</div></div></div></foreignObject><text x="240" y="1114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将查找到的这项商品购物车项中数量累加一下，继续放入redis</text></switch></g><path d="M 462.5 1150 L 462.5 1170 L 462.5 1160 L 462.5 1173.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 462.5 1178.88 L 459 1171.88 L 462.5 1173.63 L 466 1171.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="390" y="1080" width="145" height="70" rx="10.5" ry="10.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 1115px; margin-left: 391px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC调用商品服务异步查询sku需要的相关信息，异步线程由线程池提供</div></div></div></foreignObject><text x="463" y="1119" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">RPC调用商品服务异步查询sku需要的相关信息，异步线程由线程池提供</text></switch></g><path d="M 462.5 1240 L 462.5 1260 L 350 1260 L 350 1283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 1288.88 L 346.5 1281.88 L 350 1283.63 L 353.5 1281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="402.5" y="1180" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1210px; margin-left: 404px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">异步操作都结束后将购物车项放入redis</div></div></div></foreignObject><text x="463" y="1214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">异步操作都结束后将购物车项放入redis</text></switch></g><rect x="535" y="1000" width="240" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1015px; margin-left: 655px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">注：每个购物车在redis中数据结构为hash<br />key为每个购物项skuId，值为json字符串</div></div></div></foreignObject><text x="655" y="1019" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">注：每个购物车在redis中数据结构为hash...</text></switch></g><path d="M 350 1380 L 350 1400 L 350 1380 L 350 1393.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 1398.88 L 346.5 1391.88 L 350 1393.63 L 353.5 1391.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 350 1290 L 431.25 1335 L 350 1380 L 268.75 1335 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 161px; height: 1px; padding-top: 1335px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出threadLocal<br />根据用户信息的tempUser判断是否是第一次分配临时用户</div></div></div></foreignObject><text x="350" y="1339" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出threadLocal...</text></switch></g><path d="M 130 1290 L 125 1290 Q 120 1290 120 1300 L 120 1370 Q 120 1380 115 1380 L 112.5 1380 Q 110 1380 115 1380 L 117.5 1380 Q 120 1380 120 1390 L 120 1460 Q 120 1470 125 1470 L 130 1470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="1360" width="100" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1375px; margin-left: 60px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">拦截器<br />postHandle逻辑</div></div></div></foreignObject><text x="60" y="1379" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器&#xa;postHandle逻辑</text></switch></g><path d="M 350 1470 L 350 1493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 350 1498.88 L 346.5 1491.88 L 350 1493.63 L 353.5 1491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="275" y="1400" width="150" height="70" rx="10.5" ry="10.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1435px; margin-left: 276px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Cookie中写入userKey<br />Domain范围为eshopblvd.com<br />过期时间为30天</div></div></div></foreignObject><text x="350" y="1439" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Cookie中写入userKey...</text></switch></g><path d="M 131.34 1290.36 L 350 1290" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 125 1470 L 275 1470" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="290" y="1500" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1530px; margin-left: 291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回添加商品的购物车项信息</div></div></div></foreignObject><text x="350" y="1534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回添加商品的购物车项信息</text></switch></g><path d="M 720 110 L 770 110 L 770 108.7 L 821.63 108.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 826.88 108.68 L 819.88 112.18 L 821.63 108.68 L 819.88 105.18 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="680" y="100" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 110px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt"><span style="color: #c41a16">eshopblvd:cart:{userId}</span></pre></div></div></div></foreignObject><text x="700" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">eshopb...</text></switch></g><path d="M 840 50 L 835 50 Q 830 50 830 60 L 830 100 Q 830 110 825 110 L 822.5 110 Q 820 110 825 110 L 827.5 110 Q 830 110 830 120 L 830 160 Q 830 170 835 170 L 840 170" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 900 60 L 920 60 L 910 60 L 923.63 60" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 60 L 921.88 63.5 L 923.63 60 L 921.88 56.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="50" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 60px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId1</div></div></div></foreignObject><text x="875" y="64" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId1</text></switch></g><rect x="930" y="50" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 60px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku1购物项信息</div></div></div></foreignObject><text x="975" y="64" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku1购物项信息</text></switch></g><path d="M 900 110 L 920 110 L 910 110 L 923.63 110" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 110 L 921.88 113.5 L 923.63 110 L 921.88 106.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="100" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 110px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId2</div></div></div></foreignObject><text x="875" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId2</text></switch></g><rect x="930" y="100" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 110px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku2购物项信息</div></div></div></foreignObject><text x="975" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku2购物项信息</text></switch></g><path d="M 900 160 L 920 160 L 910 160 L 923.63 160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 160 L 921.88 163.5 L 923.63 160 L 921.88 156.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="150" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 160px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId3</div></div></div></foreignObject><text x="875" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId3</text></switch></g><rect x="930" y="150" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 160px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku3购物项信息</div></div></div></foreignObject><text x="975" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku3购物项信息</text></switch></g><rect x="900" y="120" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 130px; margin-left: 901px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">......</div></div></div></foreignObject><text x="920" y="134" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">......</text></switch></g><path d="M 720 250 L 770 250 L 770 248.7 L 821.63 248.68" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 826.88 248.68 L 819.88 252.18 L 821.63 248.68 L 819.88 245.18 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="680" y="240" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 250px; margin-left: 681px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><pre style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt"><span style="color: #c41a16">eshopblvd:cart:{userKey}</span></pre></div></div></div></foreignObject><text x="700" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">eshopb...</text></switch></g><path d="M 840 190 L 835 190 Q 830 190 830 200 L 830 240 Q 830 250 825 250 L 822.5 250 Q 820 250 825 250 L 827.5 250 Q 830 250 830 260 L 830 300 Q 830 310 835 310 L 840 310" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 900 200 L 920 200 L 910 200 L 923.63 200" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 200 L 921.88 203.5 L 923.63 200 L 921.88 196.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="190" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 200px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId1</div></div></div></foreignObject><text x="875" y="204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId1</text></switch></g><rect x="930" y="190" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 200px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku1购物项信息</div></div></div></foreignObject><text x="975" y="204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku1购物项信息</text></switch></g><path d="M 900 250 L 920 250 L 910 250 L 923.63 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 250 L 921.88 253.5 L 923.63 250 L 921.88 246.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="240" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId2</div></div></div></foreignObject><text x="875" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId2</text></switch></g><rect x="930" y="240" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 250px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku2购物项信息</div></div></div></foreignObject><text x="975" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku2购物项信息</text></switch></g><path d="M 900 300 L 920 300 L 910 300 L 923.63 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 928.88 300 L 921.88 303.5 L 923.63 300 L 921.88 296.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="290" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 300px; margin-left: 875px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">skuId3</div></div></div></foreignObject><text x="875" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">skuId3</text></switch></g><rect x="930" y="290" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 300px; margin-left: 931px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">sku3购物项信息</div></div></div></foreignObject><text x="975" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sku3购物项信息</text></switch></g><rect x="900" y="260" width="40" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 38px; height: 1px; padding-top: 270px; margin-left: 901px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">......</div></div></div></foreignObject><text x="920" y="274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">......</text></switch></g><rect x="660" y="130" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 140px; margin-left: 700px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">用户购物车</div></div></div></foreignObject><text x="700" y="144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">用户购物车</text></switch></g><rect x="660" y="270" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 280px; margin-left: 700px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">离线购物车</div></div></div></foreignObject><text x="700" y="284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">离线购物车</text></switch></g><rect x="700" y="0" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 20px; margin-left: 701px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">购物车在redis中的数据结构</div></div></div></foreignObject><text x="820" y="24" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车在redis中的数据结构</text></switch></g><path d="M 1360 140 L 1360 163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 168.88 L 1356.5 161.88 L 1360 163.63 L 1363.5 161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1234.5" y="80" width="251" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 249px; height: 1px; padding-top: 110px; margin-left: 1236px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">1. 首页点击「我的购物车」来到购物车列表页<br />2. 点击「去购物车结算」来到购物车列表页</div></div></div></foreignObject><text x="1360" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">1. 首页点击「我的购物车」来到购物车列表页...</text></switch></g><path d="M 1360 230 L 1360 253.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 258.88 L 1356.5 251.88 L 1360 253.63 L 1363.5 251.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1300" y="170" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 200px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">开始请求拦截器preHandle</div></div></div></foreignObject><text x="1360" y="204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">开始请求拦截器preHandle</text></switch></g><rect x="1300" y="0" width="120" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前购物车（在线/离线）</div></div></div></foreignObject><text x="1360" y="34" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前购物车（在线/离线）</text></switch></g><path d="M 1360 340 L 1360 383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 388.88 L 1356.5 381.88 L 1360 383.63 L 1363.5 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1415 300 L 1463.63 300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 300 L 1461.88 303.5 L 1463.63 300 L 1461.88 296.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 300px; margin-left: 1443px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1443" y="303" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1360 260 L 1415 300 L 1360 340 L 1305 300 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 300px; margin-left: 1306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">是否有用户登陆</div></div></div></foreignObject><text x="1360" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">是否有用户登陆</text></switch></g><rect x="1335" y="350" width="30" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 360px; margin-left: 1350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1350" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否</text></switch></g><path d="M 1360 470 L 1360 493.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 498.88 L 1356.5 491.88 L 1360 493.63 L 1363.5 491.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1420 430 L 1463.63 430" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1468.88 430 L 1461.88 433.5 L 1463.63 430 L 1461.88 426.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 430px; margin-left: 1445px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1445" y="433" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1360 390 L 1420 430 L 1360 470 L 1300 430 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 430px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">检查cookie里是否带有临时用户userKey</div></div></div></foreignObject><text x="1360" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">检查cookie里是否带有临时用户userKey</text></switch></g><path d="M 1360 560 L 1360 603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 608.88 L 1356.5 601.88 L 1360 603.63 L 1363.5 601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1280" y="500" width="160" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 530px; margin-left: 1281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">新生成一个临时用户userKey，封装到用户信息中</div></div></div></foreignObject><text x="1360" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">新生成一个临时用户userKey，封装到用户信息中</text></switch></g><rect x="1355" y="470" width="30" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 480px; margin-left: 1370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1370" y="484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">否</text></switch></g><path d="M 1360 670 L 1360 713.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 718.88 L 1356.5 711.88 L 1360 713.63 L 1363.5 711.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1300" y="610" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 640px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">封装完的用户信息放入ThreadLocal</div></div></div></foreignObject><text x="1360" y="644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">封装完的用户信息放入ThreadLocal</text></switch></g><path d="M 1140 170 L 1135 170 Q 1130 170 1130 180 L 1130 410 Q 1130 420 1125 420 L 1122.5 420 Q 1120 420 1125 420 L 1127.5 420 Q 1130 420 1130 430 L 1130 660 Q 1130 670 1135 670 L 1140 670" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1010" y="405" width="90" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 420px; margin-left: 1055px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">拦截器<br />preHandle逻辑</div></div></div></foreignObject><text x="1055" y="424" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器&#xa;preHandle逻辑</text></switch></g><path d="M 1135 670 L 1300 670" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 1540 330 L 1540 360 L 1360 360 L 1360 383.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 388.88 L 1356.5 381.88 L 1360 383.63 L 1363.5 381.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1470" y="270" width="140" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 300px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出session中登陆用户的id，封装到用户信息中</div></div></div></foreignObject><text x="1540" y="304" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出session中登陆用户的id，封装到用户信息中</text></switch></g><path d="M 1540 460 L 1530 460 L 1530 580 L 1360 580 L 1360 603.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1360 608.88 L 1356.5 601.88 L 1360 603.63 L 1363.5 601.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1470" y="400" width="140" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 430px; margin-left: 1471px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出cookie中临时用户的userKey，封装到用户信息中</div></div></div></foreignObject><text x="1540" y="434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出cookie中临时用户的userKey，封装到用户信息中</text></switch></g><path d="M 1140 170 L 1300 170" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 1300 760 L 1252.5 760 L 1252.5 823.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1252.5 828.88 L 1249 821.88 L 1252.5 823.63 L 1256 821.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 784px; margin-left: 1251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1251" y="787" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1420 760 L 1460 760 L 1460 1103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1460 1108.88 L 1456.5 1101.88 L 1460 1103.63 L 1463.5 1101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 992px; margin-left: 1461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1461" y="995" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 1360 720 L 1420 760 L 1360 800 L 1300 760 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 760px; margin-left: 1301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出threadLocal<br />根据用户信息判断是否有用户登陆</div></div></div></foreignObject><text x="1360" y="764" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出threadLocal...</text></switch></g><path d="M 1354.75 1310 L 1354.8 1330 L 1354.8 1310 L 1354.8 1323.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1354.8 1328.88 L 1351.3 1321.88 L 1354.8 1323.63 L 1358.3 1321.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1354.75 1220 L 1436 1265 L 1354.75 1310 L 1273.5 1265 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 161px; height: 1px; padding-top: 1265px; margin-left: 1275px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">取出threadLocal<br />根据用户信息的tempUser判断是否是第一次分配临时用户</div></div></div></foreignObject><text x="1355" y="1269" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">取出threadLocal...</text></switch></g><path d="M 1134.75 1220 L 1129.75 1220 Q 1124.75 1220 1124.75 1230 L 1124.75 1300 Q 1124.75 1310 1119.75 1310 L 1117.25 1310 Q 1114.75 1310 1119.75 1310 L 1122.25 1310 Q 1124.75 1310 1124.75 1320 L 1124.75 1390 Q 1124.75 1400 1129.75 1400 L 1134.75 1400" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1014.75" y="1290" width="100" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1305px; margin-left: 1065px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">拦截器<br />postHandle逻辑</div></div></div></foreignObject><text x="1065" y="1309" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器&#xa;postHandle逻辑</text></switch></g><path d="M 1354.75 1400 L 1354.75 1423.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1354.75 1428.88 L 1351.25 1421.88 L 1354.75 1423.63 L 1358.25 1421.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1279.75" y="1330" width="150" height="70" rx="10.5" ry="10.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 1365px; margin-left: 1281px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">Cookie中写入userKey<br />Domain范围为eshopblvd.com<br />过期时间为30天</div></div></div></foreignObject><text x="1355" y="1369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Cookie中写入userKey...</text></switch></g><path d="M 1136.09 1220.36 L 1354.75 1220" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><path d="M 1129.75 1400 L 1279.75 1400" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="2 6" pointer-events="stroke"/><rect x="1294.75" y="1430" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1460px; margin-left: 1296px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回添加商品的购物车项信息</div></div></div></foreignObject><text x="1355" y="1464" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回添加商品的购物车项信息</text></switch></g><path d="M 1170 870 L 1145 870 L 1145 913.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1145 918.88 L 1141.5 911.88 L 1145 913.63 L 1148.5 911.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 886px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1144" y="889" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1335 870 L 1355 870 L 1355 1060 L 1252.5 1060 L 1252.5 1103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1252.5 1108.88 L 1249 1101.88 L 1252.5 1103.63 L 1256 1101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 987px; margin-left: 1356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1356" y="990" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 1252.5 830 L 1335 870 L 1252.5 910 L 1170 870 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 870px; margin-left: 1171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">临时购物车是否有数据</div></div></div></foreignObject><text x="1253" y="874" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">临时购物车是否有数据</text></switch></g><path d="M 1145 980 L 1145 1003.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1145 1008.88 L 1141.5 1001.88 L 1145 1003.63 L 1148.5 1001.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1085" y="920" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 950px; margin-left: 1086px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">将购物车合并到用户购物车</div></div></div></foreignObject><text x="1145" y="954" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将购物车合并到用户购物车</text></switch></g><path d="M 1145 1070 L 1145 1090 L 1252.5 1090 L 1252.5 1103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1252.5 1108.88 L 1249 1101.88 L 1252.5 1103.63 L 1256 1101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1085" y="1010" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 1086px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">删除临时购物车</div></div></div></foreignObject><text x="1145" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">删除临时购物车</text></switch></g><path d="M 1460 1170 L 1460 1195 L 1354.8 1195 L 1354.76 1213.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1354.75 1218.88 L 1351.27 1211.88 L 1354.76 1213.63 L 1358.27 1211.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1400" y="1110" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 1401px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">直接获取临时购物车</div></div></div></foreignObject><text x="1460" y="1144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">直接获取临时购物车</text></switch></g><path d="M 1252.5 1170 L 1252.5 1195 L 1354.8 1195 L 1354.76 1213.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1354.75 1218.88 L 1351.27 1211.88 L 1354.76 1213.63 L 1358.27 1211.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1192.5" y="1110" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1140px; margin-left: 1194px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>获取</span>用户购物车</div></div></div></foreignObject><text x="1253" y="1144" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取用户购物车</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>