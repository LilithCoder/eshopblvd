<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="498px" height="741px" viewBox="-0.5 -0.5 498 741" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-04-26T16:20:52.374Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;LNGmjstHUUr6dfzL1gDs&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;g9zRKW0UD81SFd0cYULR&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 172 60 L 172 113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172 118.88 L 168.5 111.88 L 172 113.63 L 175.5 111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 88px; margin-left: 173px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">请求来到认证微服务</div></div></div></foreignObject><text x="173" y="91" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">请求来到认证微服务</text></switch></g><rect x="112" y="0" width="120" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 113px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发送验证码<br />前端倒计时60s开始</div></div></div></foreignObject><text x="172" y="34" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发送验证码&#xa;前端倒计时60s开始</text></switch></g><path d="M 172 180 L 172 213.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172 218.88 L 168.5 211.88 L 172 213.63 L 175.5 211.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 200px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="172" y="203" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 112 150 L 7 150 L 7 470 L 94.63 470" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 99.88 470 L 92.88 473.5 L 94.63 470 L 92.88 466.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 293px; margin-left: 9px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="9" y="296" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><rect x="112" y="120" width="120" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 150px; margin-left: 113px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">判断redis是否有<br /><span style="color: rgb(196 , 26 , 22) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">sms:code:手机号<br /></span>为key的缓存</div></div></div></foreignObject><text x="172" y="154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">判断redis是否有...</text></switch></g><rect x="112" y="680" width="120" height="60" rx="9" ry="9" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 710px; margin-left: 113px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">RPC调用三方微服务的发送验证码接口</div></div></div></foreignObject><text x="172" y="714" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">RPC调用三方微服务的发送验证码接口</text></switch></g><path d="M 172 280 L 172 323.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172 328.88 L 168.5 321.88 L 172 323.63 L 175.5 321.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="112" y="220" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 250px; margin-left: 113px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取的值是<br /><font color="#cc0000"><b>验证码+毫秒时间戳</b></font></div></div></div></foreignObject><text x="172" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取的值是&#xa;验证码+毫秒时间戳</text></switch></g><path d="M 232 360 L 300.63 360" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 305.88 360 L 298.88 363.5 L 300.63 360 L 298.88 356.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 360px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="270" y="363" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 172 390 L 172 433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172 438.88 L 168.5 431.88 L 172 433.63 L 175.5 431.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 415px; margin-left: 172px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="172" y="418" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><rect x="112" y="330" width="120" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 113px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据时间戳来判断这个手机上次获取验证码是否超过了60s</div></div></div></foreignObject><text x="172" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据时间戳来判断这个手机上次获取验证码是否超过了60s</text></switch></g><rect x="307" y="330" width="120" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 360px; margin-left: 308px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">同一手机号60s内不能频繁发验证码，返回错误</div></div></div></foreignObject><text x="367" y="364" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">同一手机号60s内不能频繁发验证码，返回错误</text></switch></g><path d="M 172 500 L 172 520 L 172.34 533.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172.47 538.88 L 168.8 531.97 L 172.34 533.63 L 175.8 531.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="101" y="440" width="142" height="60" rx="9" ry="9" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 140px; height: 1px; padding-top: 470px; margin-left: 102px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">可以再发送验证码了<br />随机生成验证码<span style="color: rgb(196 , 26 , 22) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 13.0667px ; background-color: rgb(255 , 255 , 255)"><br /></span></div></div></div></foreignObject><text x="172" y="474" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">可以再发送验证码了&#xa;随机生成验证码</text></switch></g><path d="M 172.5 630 L 172.5 655 L 172.13 673.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172.02 678.88 L 168.66 671.81 L 172.13 673.63 L 175.66 671.95 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="65" y="540" width="215" height="90" rx="13.5" ry="13.5" fill="#fff2cc" stroke="#d6b656" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 213px; height: 1px; padding-top: 585px; margin-left: 66px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">存入redis<br />key为<span style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 13.0667px ; background-color: rgb(255 , 255 , 255)"><font color="#c41a16">sms:code:手机号</font><br /><font color="#050505">value为</font></span><b><font color="#cc0000">验证码+毫秒时间戳</font><br /><font color="#050505">缓存过期时间为5分钟</font><br /></b></div></div></div></foreignObject><text x="173" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">存入redis...</text></switch></g><rect x="297" y="570" width="200" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 585px; margin-left: 397px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">用户要在5分钟内带上验证码来注册<br />否则就失效了</div></div></div></foreignObject><text x="397" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">用户要在5分钟内带上验证码来注册...</text></switch></g><rect x="337" y="300" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 310px; margin-left: 367px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">接口防刷</div></div></div></foreignObject><text x="367" y="314" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">接口防刷</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>