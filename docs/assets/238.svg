<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1465px" height="3609px" viewBox="-0.5 -0.5 1465 3609" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-21T08:15:03.861Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;e0kUL0bn2odgtsqH6Gnc&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;4aRmwtn3LgudHCLCKFT1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 283.5 190 L 283.5 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 208.88 L 280 201.88 L 283.5 203.63 L 287 201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 283.57 190 L 283.57 210 L 283.57 190 L 283.52 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 208.88 L 280.03 201.87 L 283.52 203.63 L 287.03 201.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="216" y="130" width="135" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 160px; margin-left: 217px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">请求订单确认页的数据，入参为地址id<br /></span></div></div></div></foreignObject><text x="284" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">请求订单确认页的数据，入参为地址id&#xa;</text></switch></g><path d="M 161 0 L 156 0 Q 151 0 151 10 L 151 355 Q 151 365 146 365 L 143.5 365 Q 141 365 146 365 L 148.5 365 Q 151 365 151 375 L 151 720 Q 151 730 156 730 L 161 730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1" y="335" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 365px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">生成订单确认页的信息</div></div></div></foreignObject><text x="69" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生成订单确认页的信息</text></switch></g><path d="M 283.5 110 L 283.5 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 128.88 L 280 121.88 L 283.5 123.63 L 287 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="211" y="50" width="145" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 80px; margin-left: 212px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">购物车页点击「去结算」<br /></span></div></div></div></foreignObject><text x="284" y="84" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车页点击「去结算」&#xa;</text></switch></g><path d="M 366 250 L 434.63 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 439.88 250 L 432.88 253.5 L 434.63 250 L 432.88 246.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 403px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="403" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 283.5 290 L 283.5 343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 348.88 L 280 341.88 L 283.5 343.63 L 287 341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 320px; margin-left: 284px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="284" y="323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 283.5 210 L 366 250 L 283.5 290 L 201 250 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 250px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="font-family: &quot;helvetica&quot;">拦截器从session获取登陆用户<br />判断是否登陆<br /></span></div></div></div></foreignObject><text x="284" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器从session获取登陆用户...</text></switch></g><rect x="441" y="220" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 250px; margin-left: 442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">跳转去登陆页</div></div></div></foreignObject><text x="501" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">跳转去登陆页</text></switch></g><path d="M 343.5 380 L 437.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442.38 380 L 435.38 383.5 L 437.13 380 L 435.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 343.5 380 L 393.57 380 L 393.57 530.57 L 437.13 530.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442.38 530.5 L 435.39 534.01 L 437.13 530.51 L 435.38 527.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 343.5 380 L 393.57 380 L 393.57 700 L 437.13 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 442.38 700 L 435.38 703.5 L 437.13 700 L 435.38 696.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 283.5 410 L 283.5 433.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 438.38 L 280 431.38 L 283.5 433.13 L 287 431.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="223.5" y="350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 380px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">准备RPC获取订单确认页需要的数据</div></div></div></foreignObject><text x="284" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">准备RPC获取订单确认页需要的数据</text></switch></g><path d="M 573.5 380 L 594.66 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 599.91 380 L 592.91 383.5 L 594.66 380 L 592.91 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="443.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 445px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前登录用户的全部地址列表用户选择</div></div></div></foreignObject><text x="509" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前登录用户的全部地址列表用户选择</text></switch></g><path d="M 751.03 380 L 777.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 782.38 380 L 775.38 383.5 L 777.13 380 L 775.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="601.03" y="350" width="150" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 380px; margin-left: 602px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</div></div></div></foreignObject><text x="676" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</text></switch></g><rect x="783.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 785px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据选中的地址计算获取运费</div></div></div></foreignObject><text x="849" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据选中的地址计算获取运费</text></switch></g><path d="M 451 310 L 561 310 L 561 310 L 571 325 L 561 340 L 561 340 L 451 340 L 461 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务</div></div></div></foreignObject><text x="511" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务</text></switch></g><path d="M 791 310 L 891 310 L 891 310 L 901 325 L 891 340 L 891 340 L 791 340 L 801 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 846px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="846" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 563.5 530.5 L 609.66 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 614.91 530.5 L 607.91 534 L 609.66 530.5 L 607.91 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="443.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 445px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">从redis里获取当前登录用户的购物项列表</div></div></div></foreignObject><text x="504" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从redis里获取当前登录用户的购物项列表</text></switch></g><path d="M 451 460 L 551 460 L 551 460 L 561 475 L 551 490 L 551 490 L 451 490 L 461 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 506px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="506" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 736.03 530.5 L 777.13 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 782.38 530.5 L 775.38 534 L 777.13 530.5 L 775.38 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="616.03" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 617px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的最新价格</div></div></div></foreignObject><text x="676" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的最新价格</text></switch></g><rect x="783.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 785px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的库存情况</div></div></div></foreignObject><text x="844" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的库存情况</text></switch></g><path d="M 791 460 L 891 460 L 891 460 L 901 475 L 891 490 L 891 490 L 791 490 L 801 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 846px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="846" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 621 460 L 726.03 460 L 726.03 460 L 736.03 475 L 726.03 490 L 726.03 490 L 621 490 L 631 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 679px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="679" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="408.5" y="570" width="190" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 580px; margin-left: 504px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"eshopblvd:cart:"+userId</span></div></div></div></foreignObject><text x="504" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">key为"eshopblvd:cart:"+userId</text></switch></g><rect x="443.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 445px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取优惠券、积分等信息</div></div></div></foreignObject><text x="504" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取优惠券、积分等信息</text></switch></g><path d="M 451 630 L 551 630 L 551 630 L 561 645 L 551 660 L 551 660 L 451 660 L 461 645 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 645px; margin-left: 506px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">优惠券服务</div></div></div></foreignObject><text x="506" y="649" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">优惠券服务</text></switch></g><path d="M 283.5 509.5 L 283.5 533.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 538.88 L 280 531.88 L 283.5 533.63 L 287 531.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="214.75" y="439.5" width="137.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 475px; margin-left: 216px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</div></div></div></foreignObject><text x="284" y="478" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</text></switch></g><path d="M 283.5 630 L 283.5 663.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 668.88 L 280 661.88 L 283.5 663.63 L 287 661.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="188.5" y="540" width="190" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 585px; margin-left: 190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建一个防重令牌<br />防止重复订单提交，预先生成令牌<br />存入redis<br />key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"order:token:"+用户id<br />value为随机值<br /></span></div></div></div></foreignObject><text x="284" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建一个防重令牌防止重复订单提交，预先生成令牌存入redis...</text></switch></g><rect x="223.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回这些数据等<br />渲染订单确认页</div></div></div></foreignObject><text x="284" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回这些数据等&#xa;渲染订单确认页</text></switch></g><path d="M 283.5 860 L 283.5 873.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 878.88 L 280 871.88 L 283.5 873.63 L 287 871.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="223.5" y="800" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 830px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单确认页点击<br />「提交订单」</div></div></div></foreignObject><text x="284" y="834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单确认页点击&#xa;「提交订单」</text></switch></g><path d="M 333.5 1040 L 372.13 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 377.38 1040 L 370.38 1043.5 L 372.13 1040 L 370.38 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1040px; margin-left: 356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="356" y="1043" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 283.5 1080 L 283.5 1113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 1118.88 L 280 1111.88 L 283.5 1113.63 L 287 1111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1100px; margin-left: 283px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="283" y="1103" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 283.5 1000 L 333.5 1040 L 283.5 1080 L 233.5 1040 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1040px; margin-left: 235px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">校验订单确认页带的防重令牌</div></div></div></foreignObject><text x="284" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">校验订单确认页带的防重令牌</text></switch></g><path d="M 283.5 980 L 283.5 993.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 998.88 L 280 991.88 L 283.5 993.63 L 287 991.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="224.75" y="880" width="117.5" height="100" rx="15" ry="15" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 930px; margin-left: 226px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">提交数据包括了<br />收货地址id<br />支付方式<br />应付价格<br />订单备注<br />防重令牌</div></div></div></foreignObject><text x="284" y="934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">提交数据包括了收货地址id...</text></switch></g><path d="M 343.75 1273 L 373.86 1273 L 373.86 1203 L 397.38 1203" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 402.63 1203 L 395.63 1206.5 L 397.38 1203 L 395.63 1199.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 343.75 1273 L 373.86 1273 L 373.86 1343 L 397.38 1343" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 402.63 1343 L 395.63 1346.5 L 397.38 1343 L 395.63 1339.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 283.75 1303 L 283.86 1373 L 283.52 1436.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.5 1441.88 L 280.03 1434.86 L 283.52 1436.63 L 287.03 1434.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="223.75" y="1243" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1273px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单数据</div></div></div></foreignObject><text x="284" y="1277" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单数据</text></switch></g><path d="M 283.49 1170 L 283.57 1206.43 L 283.72 1236.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.74 1241.88 L 280.21 1234.9 L 283.72 1236.63 L 287.21 1234.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="230.37" y="1120" width="106.25" height="50" rx="7.5" ry="7.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 104px; height: 1px; padding-top: 1145px; margin-left: 231px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">删除令牌</div></div></div></foreignObject><text x="283" y="1149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">删除令牌</text></switch></g><path d="M 46 990 L 211 990 L 211 1070 L 191.5 1070 L 211 1100 L 161.5 1070 L 46 1070 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 1030px; margin-left: 47px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>保证接口幂等性<br />利用redis luna脚本进行令牌验证+删除的原子性操作</span><br /><font style="font-size: 12px"><span>key为</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">"order:token:"+</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">用户</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">id value</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">为随机值</span></font></div></div></div></foreignObject><text x="129" y="1034" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保证接口幂等性利用redis luna脚本进行令牌验证+删除的原子性操作...</text></switch></g><path d="M 233.5 0 L 323.5 0 L 323.5 0 L 333.5 15 L 323.5 30 L 323.5 30 L 233.5 30 L 243.5 15 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 284px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="284" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><rect x="403.75" y="1163" width="152.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 151px; height: 1px; padding-top: 1203px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单的基本数据<br />订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</div></div></div></foreignObject><text x="480" y="1207" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单的基本数据&#xa;订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</text></switch></g><rect x="403.75" y="1313" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1343px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id获取收货地址信息、根据选中收货地址来计算运费</div></div></div></foreignObject><text x="464" y="1347" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id获取收货地址信息、根据选中收货地址来计算运费</text></switch></g><path d="M 413.75 1273 L 503.75 1273 L 503.75 1273 L 513.75 1288 L 503.75 1303 L 503.75 1303 L 413.75 1303 L 423.75 1288 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 464px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="464" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 233.49 760 L 323.49 760 L 323.49 760 L 333.49 775 L 323.49 790 L 323.49 790 L 233.49 790 L 243.49 775 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 775px; margin-left: 283px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务<br />（本地事务）</div></div></div></foreignObject><text x="283" y="779" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务&#xa;（本地事务）</text></switch></g><path d="M 343.49 1473 L 394.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400.13 1473 L 393.13 1476.5 L 394.88 1473 L 393.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 343.49 1473 L 372.43 1473 L 372.43 1593 L 394.88 1593" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400.13 1593 L 393.13 1596.5 L 394.88 1593 L 393.13 1589.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 343.49 1473 L 372.43 1473 L 372.43 1710 L 394.88 1710" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 400.13 1710 L 393.13 1713.5 L 394.88 1710 L 393.13 1706.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 283.49 1503 L 283.49 1628.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.49 1633.88 L 279.99 1626.88 L 283.49 1628.63 L 286.99 1626.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="223.49" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 224px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单项数据</div></div></div></foreignObject><text x="283" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单项数据</text></switch></g><path d="M 521.25 1473 L 574.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 580.13 1473 L 573.13 1476.5 L 574.88 1473 L 573.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="401.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前用户购物车中的购物项列表<br />封装成订单项列表</div></div></div></foreignObject><text x="461" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前用户购物车中的购物项列表&#xa;封装成订单项列表</text></switch></g><rect x="581.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 582px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个购物项都更新了最新的价格和库存</div></div></div></foreignObject><text x="641" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个购物项都更新了最新的价格和库存</text></switch></g><path d="M 591.25 1403 L 681.25 1403 L 681.25 1403 L 691.25 1418 L 681.25 1433 L 681.25 1433 L 591.25 1433 L 601.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 641px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="641" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 591.25 1363 L 681.25 1363 L 681.25 1363 L 691.25 1378 L 681.25 1393 L 681.25 1393 L 591.25 1393 L 601.25 1378 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 641px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="641" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="401.25" y="1563" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1593px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取每个订单项sku的spu信息</div></div></div></foreignObject><text x="461" y="1597" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取每个订单项sku的spu信息</text></switch></g><path d="M 411.25 1403 L 501.25 1403 L 501.25 1403 L 511.25 1418 L 501.25 1433 L 501.25 1433 L 411.25 1433 L 421.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="461" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 411.25 1523 L 501.25 1523 L 501.25 1523 L 511.25 1538 L 501.25 1553 L 501.25 1553 L 411.25 1553 L 421.25 1538 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1538px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="461" y="1542" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="401.25" y="1680" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1710px; margin-left: 402px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个订单项减去促销、优惠、积分后计算得到实际金额</div></div></div></foreignObject><text x="461" y="1714" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个订单项减去促销、优惠、积分后计算得到实际金额</text></switch></g><path d="M 283.49 1705 L 283.49 1743.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283.49 1748.88 L 279.99 1741.88 L 283.49 1743.63 L 286.99 1741.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="209.74" y="1635" width="147.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 146px; height: 1px; padding-top: 1670px; margin-left: 211px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">减去每个订单项促销、优惠、积分信息，加上运费<br />得到最后整个订单应付价格</div></div></div></foreignObject><text x="283" y="1674" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">减去每个订单项促销、优惠、积分信息，加上运费&#xa;得到最后整个订单应付价格</text></switch></g><path d="M 372.24 1795 L 415.01 1795" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 420.26 1795 L 413.26 1798.5 L 415.01 1795 L 413.26 1791.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1796px; margin-left: 389px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="389" y="1799" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 283.49 1840 L 282.51 1863.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.3 1868.88 L 279.09 1861.74 L 282.51 1863.64 L 286.08 1862.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 283.49 1750 L 372.24 1795 L 283.49 1840 L 194.74 1795 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 1795px; margin-left: 196px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价<br />计算得到最新的应付价格和提交订单的应付价格差值小于0.01</div></div></div></foreignObject><text x="283" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价&#xa;计算得到最新的应付价格和提交订单的应付价格差值小于0.01</text></switch></g><path d="M 282.25 1950 L 282.25 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.25 2018.88 L 278.75 2011.88 L 282.25 2013.63 L 285.75 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="223.5" y="1870" width="117.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 1910px; margin-left: 225px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><p class="p1" style="margin: 0px ; font-stretch: normal ; line-height: normal"><font style="font-size: 12px">将订单和订单项数据保存数据库<br />「oms_order」<br />「oms_order_item」<br /></font></p></div></div></div></foreignObject><text x="282" y="1914" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将订单和订单项数据保存数据库「oms_order」...</text></switch></g><path d="M 342.25 2050 L 407.51 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 412.76 2050 L 405.76 2053.5 L 407.51 2050 L 405.76 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 282.25 2080 L 282.29 2100 L 282.43 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.48 2118.88 L 278.91 2111.92 L 282.43 2113.63 L 285.91 2111.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="222.25" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存</div></div></div></foreignObject><text x="282" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存</text></switch></g><rect x="543.37" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">重定向到订单确认页</div></div></div></foreignObject><text x="603" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">重定向到订单确认页</text></switch></g><path d="M 498.5 1040 L 537 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 542.25 1040 L 535.25 1043.5 L 537 1040 L 535.25 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="378.5" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 380px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">令牌验证失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="439" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">令牌验证失败，抛异常，本地事务回滚</text></switch></g><path d="M 561.13 1795 L 581.14 1795 L 576.29 1795 L 589.91 1795" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 595.16 1795 L 588.16 1798.5 L 589.91 1795 L 588.16 1791.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="421.38" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 422px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="491" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价失败，抛异常，本地事务回滚</text></switch></g><rect x="596.28" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 597px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单应付价格发生变化<br />重定向到订单确认页</div></div></div></foreignObject><text x="666" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单应付价格发生变化&#xa;重定向到订单确认页</text></switch></g><path d="M 561.13 2050 L 599.79 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 605.04 2050 L 598.04 2053.5 L 599.79 2050 L 598.04 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="413.88" y="2020" width="147.25" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 145px; height: 1px; padding-top: 2050px; margin-left: 415px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">保存库存工作单<br />「wms_ware_order_task」<br />主要用来通过订单号<br />来查询映射的工作单id</div></div></div></foreignObject><text x="488" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保存库存工作单「wms_ware_order_task」...</text></switch></g><path d="M 481 1846 L 675.97 1846 L 675.97 1946 L 598.49 1946 L 578.49 1976 L 578.49 1946 L 481 1946 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1896px; margin-left: 482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</div></div></div></foreignObject><text x="578" y="1900" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</text></switch></g><path d="M 936 2220 L 936 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 936 2248.88 L 932.5 2241.88 L 936 2243.63 L 939.5 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="841" y="2140" width="190" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2180px; margin-left: 842px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁成功后，保存库存工作单详情<br />「wms_ware_order_task_detail」<br />保存skuId、商品数量、仓库id、工作单id、锁定状态</div></div></div></foreignObject><text x="936" y="2184" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁成功后，保存库存工作单详情「wms_ware_order_task_detail」...</text></switch></g><path d="M 666.16 2080 L 666.16 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 666.16 2118.88 L 662.66 2111.88 L 666.16 2113.63 L 669.66 2111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="606.16" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对于每个订单项尝试锁库存</div></div></div></foreignObject><text x="666" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对于每个订单项尝试锁库存</text></switch></g><path d="M 936 1980 L 936 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 936 2018.88 L 932.5 2011.88 L 936 2013.63 L 939.5 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="867.25" y="1920" width="137.5" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 1950px; margin-left: 868px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">找到该商品sku最近的且有足够库存的仓库<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span><span>」</span></div></div></div></foreignObject><text x="936" y="1954" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">找到该商品sku最近的且有足够库存的仓库...</text></switch></g><path d="M 421 1980 L 711 1980 L 711 1980 L 721 1995 L 711 2010 L 711 2010 L 421 2010 L 431 1995 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1995px; margin-left: 571px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="571" y="1999" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 936 2090 L 936 2133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 936 2138.88 L 932.5 2131.88 L 936 2133.63 L 939.5 2131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="842.25" y="2020" width="187.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 2055px; margin-left: 843px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">真正锁库存<br />找到这个仓库的这个sku商品<br />给其stock_locked字段加上sku数量<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span>」</div></div></div></foreignObject><text x="936" y="2059" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">真正锁库存找到这个仓库的这个sku商品...</text></switch></g><path d="M 741 2034 L 791 2034 L 791 2025 L 811 2050 L 791 2075 L 791 2066 L 741 2066 L 741 2050 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><path d="M 936 2310 L 936 2344 L 936.62 2371.63" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 936.74 2376.88 L 933.08 2369.96 L 936.62 2371.63 L 940.08 2369.81 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2343px; margin-left: 937px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="937" y="2347" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><rect x="876" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 877px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="936" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><path d="M 386 1640 L 526 1640 L 526 1640 L 536 1655 L 526 1670 L 526 1670 L 386 1670 L 396 1655 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1655px; margin-left: 461px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务、优惠券服务</div></div></div></foreignObject><text x="461" y="1659" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务、优惠券服务</text></switch></g><path d="M 981.76 2408 L 1071.86 2408 L 1071.86 2548 L 1058.13 2548" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1052.88 2548 L 1059.88 2544.5 L 1058.13 2548 L 1059.88 2551.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2441px; margin-left: 1072px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="1072" y="2445" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><path d="M 892.3 2429.48 L 772 2429.57 L 772 2628 L 825.39 2628" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 830.64 2628 L 823.64 2631.5 L 825.39 2628 L 823.64 2624.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2550px; margin-left: 773px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release.#</div></div></div></foreignObject><text x="773" y="2553" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release.#</text></switch></g><path d="M 891.76 2408 L 711 2408 L 711 2648 L 825.39 2648" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 830.64 2648 L 823.64 2651.5 L 825.39 2648 L 823.64 2644.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2515px; margin-left: 713px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other.#</div></div></div></foreignObject><text x="713" y="2518" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other.#</text></switch></g><path d="M 900.03 2378 L 973.49 2378 C 976.45 2378 979.18 2383.72 980.65 2393 C 982.13 2402.28 982.13 2413.72 980.65 2423 C 979.18 2432.28 976.45 2438 973.49 2438 L 900.03 2438 C 897.07 2438 894.34 2432.28 892.87 2423 C 891.39 2413.72 891.39 2402.28 892.87 2393 C 894.34 2383.72 897.07 2378 900.03 2378 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 973.49 2378 C 970.54 2378 967.81 2383.72 966.34 2393 C 964.86 2402.28 964.86 2413.72 966.34 2423 C 967.81 2432.28 970.54 2438 973.49 2438" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2408px; margin-left: 893px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="937" y="2412" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock-...</text></switch></g><ellipse cx="826" cy="2348" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="826" cy="2348" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2348px; margin-left: 781px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="826" y="2352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 831.76 2548 L 811.86 2548 L 811.86 2483 L 936.86 2483 L 936.77 2444.37" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 936.76 2439.12 L 940.28 2446.11 L 936.77 2444.37 L 933.28 2446.13 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2485px; margin-left: 869px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release</div></div></div></foreignObject><text x="869" y="2488" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release</text></switch></g><rect x="831.76" y="2528" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="833.76" y="2530" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2548px; margin-left: 835px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.delay.queue<br />延时队列，50min后解锁库存</div></div></div></foreignObject><text x="942" y="2552" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.delay.queue...</text></switch></g><rect x="831.76" y="2618" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="833.76" y="2620" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2638px; margin-left: 835px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.release.stock.queue<br />库存解锁队列</div></div></div></foreignObject><text x="942" y="2642" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.release.stock.queue...</text></switch></g><path d="M 941.76 2768 L 941.86 2798 L 1126 2798 L 1126.01 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.01 2826.88 L 1122.51 2819.88 L 1126.01 2821.63 L 1129.51 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 941.76 2768 L 941.86 2798 L 673.14 2798 L 673.12 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 673.12 2826.88 L 669.63 2819.88 L 673.12 2821.63 L 676.63 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="881.76" y="2708" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2738px; margin-left: 883px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听库存解锁队列<br />解锁库存</div></div></div></foreignObject><text x="942" y="2742" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听库存解锁队列解锁库存...</text></switch></g><path d="M 926.76 2666.71 L 944.47 2666.71 L 944.47 2653 L 956.76 2683 L 944.47 2713 L 944.47 2699.29 L 926.76 2699.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,941.76,2683)" pointer-events="all"/><path d="M 1126.01 2888 L 1126.01 2951.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.01 2956.88 L 1122.51 2949.88 L 1126.01 2951.63 L 1129.51 2949.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1066.01" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 1067px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">收到50min后自动解锁库存的消息</div></div></div></foreignObject><text x="1126" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">收到50min后自动解锁库存的消息</text></switch></g><path d="M 673.12 2888 L 673.12 2978.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 673.12 2983.88 L 669.62 2976.88 L 673.12 2978.63 L 676.62 2976.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="613.12" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 614px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单关闭收到解锁库存的消息</div></div></div></foreignObject><text x="673" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单关闭收到解锁库存的消息</text></switch></g><path d="M 1126.83 3520 L 1126.83 3541.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.83 3546.88 L 1123.33 3539.88 L 1126.83 3541.63 L 1130.33 3539.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1035.99" y="3440" width="181.68" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 180px; height: 1px; padding-top: 3480px; margin-left: 1037px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对这个工作单详情进行库存解锁<br />1. 「wms_ware_sku」的stock_locked减去商品数量<br />2. 库存工作单详情的lock_status更新为已解锁</div></div></div></foreignObject><text x="1127" y="3484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对这个工作单详情进行库存解锁1. 「wms_ware_sku」的stock_locked减去商品数量...</text></switch></g><path d="M 1126.3 3398 L 1126.29 3419 L 1126.67 3433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.8 3438.88 L 1123.12 3431.98 L 1126.67 3433.63 L 1130.12 3431.79 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1067.67 3353 L 1035.26 3353" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1030.01 3353 L 1037.01 3349.5 L 1035.26 3353 L 1037.01 3356.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1126.3 3308 L 1184.92 3353 L 1126.3 3398 L 1067.67 3353 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 115px; height: 1px; padding-top: 3353px; margin-left: 1069px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">没有订单或订单的状态为已关闭</div></div></div></foreignObject><text x="1126" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有订单或订单的状态为已关闭</text></switch></g><ellipse cx="1066" cy="2928" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="1066" cy="2928" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 1021px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="1066" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 931.82 3108 L 1021.82 3108 L 1021.82 3108 L 1031.82 3123 L 1021.82 3138 L 1021.82 3138 L 931.82 3138 L 941.82 3123 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3123px; margin-left: 982px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="982" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 1126.82 3158 L 1126.86 3178 L 1126.47 3191.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.32 3196.88 L 1123.02 3189.79 L 1126.47 3191.63 L 1130.02 3189.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1041.89" y="3088" width="169.87" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 3123px; margin-left: 1043px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询工作单id对应的订单号<br />「wms_ware_order」<br />根据订单号来获取订单的状态</div></div></div></foreignObject><text x="1127" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询工作单id对应的订单号...</text></switch></g><path d="M 1039.76 3003 L 984.62 3003" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 979.37 3003 L 986.37 2999.5 L 984.62 3003 L 986.37 3006.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3004px; margin-left: 1012px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1012" y="3007" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 1126.01 3048 L 1126 3068 L 1126.56 3081.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.78 3086.88 L 1122.99 3080.03 L 1126.56 3081.64 L 1129.99 3079.74 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3064px; margin-left: 1128px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1128" y="3068" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1126.01 2958 L 1212.26 3003 L 1126.01 3048 L 1039.76 3003 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 3003px; margin-left: 1041px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态</span><br /><span>「wms_ware_order_task_detail」<br /></span></div></div></div></foreignObject><text x="1126" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态「wms_ware_order_task_detail」...</text></switch></g><rect x="821" y="2940.5" width="157.25" height="125" rx="18.75" ry="18.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 155px; height: 1px; padding-top: 3003px; margin-left: 822px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交<br />（2）工作单详情不是锁定状态，订单取消后已经率先一步解锁库存了，所以就是无需解锁</div></div></div></foreignObject><text x="900" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交...</text></switch></g><path d="M 1086.29 3238 L 1031.63 3238" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1026.38 3238 L 1033.38 3234.5 L 1031.63 3238 L 1033.38 3241.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1126.29 3278 L 1126.29 3301.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1126.29 3306.88 L 1122.79 3299.88 L 1126.29 3301.63 L 1129.79 3299.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1126.29 3198 L 1166.29 3238 L 1126.29 3278 L 1086.29 3238 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 3238px; margin-left: 1087px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询是否成功</span></div></div></div></foreignObject><text x="1126" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询是否成功</text></switch></g><rect x="905.26" y="3208" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3238px; margin-left: 906px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，拒绝收到的消息，重新放回库存解锁队列</div></div></div></foreignObject><text x="965" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，拒绝收到的消息，重新放回库存解锁队列</text></switch></g><rect x="908.89" y="3323" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3353px; margin-left: 910px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单还在，且不是关闭状态，那么就不需要解锁库存</div></div></div></foreignObject><text x="969" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单还在，且不是关闭状态，那么就不需要解锁库存</text></switch></g><rect x="1066.83" y="3548" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3578px; margin-left: 1068px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">给库存解锁队列返回消息确认ack</div></div></div></foreignObject><text x="1127" y="3582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">给库存解锁队列返回消息确认ack</text></switch></g><path d="M 1198.51 3300 L 1463.51 3300 L 1463.51 3418 L 1258.26 3418 L 1227.66 3440 L 1238.26 3418 L 1198.51 3418 Z" fill="#ffff88" stroke="#36393d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 3359px; margin-left: 1200px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存<br />（2）订单的状态为已关闭，说明订单已经关闭，需要解锁库存</div></div></div></foreignObject><text x="1331" y="3363" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存...</text></switch></g><rect x="606.16" y="2120" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2150px; margin-left: 607px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>如果有任何一个订单项没有锁定成功，回滚当前库存事务</span></div></div></div></foreignObject><text x="666" y="2154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有任何一个订单项没有锁定成功，回滚当前库存事务</text></switch></g><path d="M 233.12 2160 L 172.37 2160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 167.12 2160 L 174.12 2156.5 L 172.37 2160 L 174.12 2163.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2163px; margin-left: 201px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="201" y="2166" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 282.49 2200 L 282.49 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.49 2248.88 L 278.99 2241.88 L 282.49 2243.63 L 285.99 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2226px; margin-left: 282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="282" y="2229" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 282.49 2120 L 331.87 2160 L 282.49 2200 L 233.12 2160 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 97px; height: 1px; padding-top: 2160px; margin-left: 234px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存是否成功</div></div></div></foreignObject><text x="282" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存是否成功</text></switch></g><rect x="46" y="2130" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2160px; margin-left: 47px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，事务回滚<br />库存不足</div></div></div></foreignObject><text x="106" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，事务回滚&#xa;库存不足</text></switch></g><path d="M 282.49 2310 L 282.57 2330 L 282.35 2343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.27 2348.88 L 278.88 2341.83 L 282.35 2343.63 L 285.88 2341.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="222.49" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单创建成功</div></div></div></foreignObject><text x="282" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单创建成功</text></switch></g><path d="M 282.25 2410 L 282.25 2461.63" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.25 2466.88 L 278.75 2459.88 L 282.25 2461.63 L 285.75 2459.88 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2435px; margin-left: 284px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="284" y="2438" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><rect x="222.25" y="2350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2380px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="282" y="2384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><ellipse cx="387.14" cy="2438" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="387.14" cy="2438" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2438px; margin-left: 342px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="387" y="2442" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 327.25 2498 L 413.86 2498 L 413.86 2598 L 400.12 2598" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 394.87 2598 L 401.87 2594.5 L 400.12 2598 L 401.87 2601.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2549px; margin-left: 415px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="415" y="2553" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><path d="M 237.25 2498 L 101 2498 L 101 2678 L 172 2678 L 167.38 2678" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 172.63 2678 L 165.63 2681.5 L 167.38 2678 L 165.63 2674.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2604px; margin-left: 100px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="100" y="2607" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><path d="M 245.52 2468 L 318.98 2468 C 321.94 2468 324.67 2473.72 326.14 2483 C 327.62 2492.28 327.62 2503.72 326.14 2513 C 324.67 2522.28 321.94 2528 318.98 2528 L 245.52 2528 C 242.56 2528 239.83 2522.28 238.36 2513 C 236.88 2503.72 236.88 2492.28 238.36 2483 C 239.83 2473.72 242.56 2468 245.52 2468 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 318.98 2468 C 316.03 2468 313.3 2473.72 311.83 2483 C 310.35 2492.28 310.35 2503.72 311.83 2513 C 313.3 2522.28 316.03 2528 318.98 2528" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2498px; margin-left: 238px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="282" y="2502" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order-...</text></switch></g><path d="M 173.75 2598 L 153.86 2598 L 153.86 2553 L 282.29 2553 L 282.26 2534.37" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.25 2529.12 L 285.76 2536.11 L 282.26 2534.37 L 278.76 2536.12 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2553px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="215" y="2556" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><rect x="173.75" y="2578" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="175.75" y="2580" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2598px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.delay.queue<br />延时队列，30min后开始关闭订单</div></div></div></foreignObject><text x="284" y="2602" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.delay.queue...</text></switch></g><rect x="173.75" y="2658" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="175.75" y="2660" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2678px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.release.order.queue<br />订单释放队列</div></div></div></foreignObject><text x="284" y="2682" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.release.order.queue...</text></switch></g><path d="M 267.25 2706.71 L 284.96 2706.71 L 284.96 2693 L 297.25 2723 L 284.96 2753 L 284.96 2739.29 L 267.25 2739.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,282.25,2723)" pointer-events="all"/><path d="M 282.49 2810 L 282.57 2830 L 282.36 2843.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.27 2848.88 L 278.88 2841.83 L 282.36 2843.63 L 285.88 2841.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="222.49" y="2750" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2780px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听订单释放队列<br />准备关闭过期订单</div></div></div></foreignObject><text x="282" y="2784" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听订单释放队列准备关闭过期订单...</text></switch></g><path d="M 202.88 2890 L 147.37 2890" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 142.12 2890 L 149.12 2886.5 L 147.37 2890 L 149.12 2893.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2890px; margin-left: 171px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="171" y="2893" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 282.26 2930 L 282.25 2966.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.25 2971.88 L 278.75 2964.88 L 282.25 2966.63 L 285.75 2964.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2951px; margin-left: 282px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="282" y="2955" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 282.26 2850 L 361.63 2890 L 282.26 2930 L 202.88 2890 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 2890px; margin-left: 204px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询该订单的最新状态是不是还是新建待付款？</div></div></div></foreignObject><text x="282" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询该订单的最新状态是不是还是新建待付款？</text></switch></g><ellipse cx="371.38" cy="2840" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="371.38" cy="2840" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2840px; margin-left: 326px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="371" y="2844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><rect x="21" y="2860" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2890px; margin-left: 22px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">无需关订单<br />消息确认ack</div></div></div></foreignObject><text x="81" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">无需关订单&#xa;消息确认ack</text></switch></g><path d="M 282.25 3033 L 282.45 3063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.48 3068.88 L 278.94 3061.9 L 282.45 3063.63 L 285.94 3061.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="222.25" y="2973" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3003px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新订单的状态为已取消<br />「oms_order」</div></div></div></foreignObject><text x="282" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新订单的状态为已取消&#xa;「oms_order」</text></switch></g><path d="M 342.49 3100 L 481 3100 L 481 2392.86 L 884.94 2392.88" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 890.19 2392.88 L 883.19 2396.38 L 884.94 2392.88 L 883.19 2389.38 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2668px; margin-left: 482px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other</div></div></div></foreignObject><text x="482" y="2671" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other</text></switch></g><path d="M 282.49 3130 L 282.49 3163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.49 3168.88 L 278.99 3161.88 L 282.49 3163.63 L 285.99 3161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="222.49" y="3070" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3100px; margin-left: 223px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给库存交换机<br />准备解锁库存</div></div></div></foreignObject><text x="282" y="3104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给库存交换机&#xa;准备解锁库存</text></switch></g><ellipse cx="393.75" cy="3058" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="393.75" cy="3058" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 3058px; margin-left: 349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="394" y="3062" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><ellipse cx="593.37" cy="2928" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="593.37" cy="2928" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 548px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="593" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 282.49 3250 L 282.49 3283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 282.49 3288.88 L 278.99 3281.88 L 282.49 3283.63 L 285.99 3281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 282.49 3170 L 337.3 3210 L 282.49 3250 L 227.68 3210 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 3210px; margin-left: 229px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">解锁库存的消息是否成功发送</div></div></div></foreignObject><text x="282" y="3214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">解锁库存的消息是否成功发送</text></switch></g><path d="M 673.12 3070 L 673.12 3123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 673.12 3128.88 L 669.62 3121.88 L 673.12 3123.63 L 676.62 3121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="572.21" y="2985" width="201.82" height="85" rx="12.75" ry="12.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 200px; height: 1px; padding-top: 3028px; margin-left: 573px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存<br />「wms_ware_order」<br />「wms_ware_order_task_detail」</div></div></div></foreignObject><text x="673" y="3031" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存「wms_ware_order」...</text></switch></g><path d="M 615.7 3170 L 567.5 3170" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 562.25 3170 L 569.25 3166.5 L 567.5 3170 L 569.25 3173.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3170px; margin-left: 589px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">无</div></div></div></foreignObject><text x="589" y="3173" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">无</text></switch></g><path d="M 673.12 3210 L 673.14 3480 L 1029.62 3480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1034.87 3480 L 1027.87 3483.5 L 1029.62 3480 L 1027.87 3476.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 673.12 3130 L 730.54 3170 L 673.12 3210 L 615.7 3170 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 113px; height: 1px; padding-top: 3170px; margin-left: 617px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果有这样的库存工作单详情</div></div></div></foreignObject><text x="673" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有这样的库存工作单详情</text></switch></g><rect x="441.13" y="3140" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3170px; margin-left: 442px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>没有库存需要解锁<br />消息确认ack</span></div></div></div></foreignObject><text x="501" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有库存需要解锁&#xa;消息确认ack</text></switch></g><path d="M -0.01 2990 L 209.74 2990 L 209.74 3078 L 196.21 3078 L 209.74 3108 L 155.21 3078 L -0.01 3078 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 3034px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发这一消息的原因<br />防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</div></div></div></foreignObject><text x="105" y="3038" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发这一消息的原因&#xa;防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</text></switch></g><rect x="213.74" y="3290" width="137.51" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 3325px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">失败的消息存在数据库<br />定期扫描数据库将失败的消息进行重新发送</div></div></div></foreignObject><text x="282" y="3329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">失败的消息存在数据库&#xa;定期扫描数据库将失败的消息进行重新发送</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>