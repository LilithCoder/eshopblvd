<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1774px" height="4771px" viewBox="-0.5 -0.5 1774 4771" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-23T13:25:09.392Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;OhyIaIcmH4XS0TneA7E5&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;4aRmwtn3LgudHCLCKFT1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 592.5 190 L 592.5 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 208.88 L 589 201.88 L 592.5 203.63 L 596 201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.43 190 L 592.43 210 L 592.43 190 L 592.48 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 208.88 L 588.97 201.89 L 592.48 203.63 L 595.97 201.87 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="525" y="130" width="135" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 160px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">请求订单确认页的数据，入参为地址id<br /></span></div></div></div></foreignObject><text x="593" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">请求订单确认页的数据，入参为地址id&#xa;</text></switch></g><path d="M 470 0 L 465 0 Q 460 0 460 10 L 460 355 Q 460 365 455 365 L 452.5 365 Q 450 365 455 365 L 457.5 365 Q 460 365 460 375 L 460 720 Q 460 730 465 730 L 470 730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="335" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 365px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">生成订单确认页的信息</div></div></div></foreignObject><text x="378" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生成订单确认页的信息</text></switch></g><path d="M 592.5 110 L 592.5 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 128.88 L 589 121.88 L 592.5 123.63 L 596 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="520" y="50" width="145" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 80px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">购物车页点击「去结算」<br /></span></div></div></div></foreignObject><text x="593" y="84" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车页点击「去结算」&#xa;</text></switch></g><path d="M 675 250 L 743.63 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 748.88 250 L 741.88 253.5 L 743.63 250 L 741.88 246.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="712" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.5 290 L 592.5 343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 348.88 L 589 341.88 L 592.5 343.63 L 596 341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 321px; margin-left: 593px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="593" y="325" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 592.5 210 L 675 250 L 592.5 290 L 510 250 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 250px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="font-family: &quot;helvetica&quot;">拦截器从session获取登陆用户<br />判断是否登陆<br /></span></div></div></div></foreignObject><text x="593" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器从session获取登陆用户...</text></switch></g><rect x="750" y="220" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 250px; margin-left: 751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">跳转去登陆页</div></div></div></foreignObject><text x="810" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">跳转去登陆页</text></switch></g><path d="M 652.5 380 L 746.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 380 L 744.38 383.5 L 746.13 380 L 744.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.5 380 L 702.43 380 L 702.43 530.57 L 746.13 530.51" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 530.5 L 744.39 534.01 L 746.13 530.51 L 744.38 527.01 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.5 380 L 702.43 380 L 702.43 700 L 746.13 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 700 L 744.38 703.5 L 746.13 700 L 744.38 696.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.5 410 L 592.5 433.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 438.38 L 589 431.38 L 592.5 433.13 L 596 431.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 380px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">准备RPC获取订单确认页需要的数据</div></div></div></foreignObject><text x="593" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">准备RPC获取订单确认页需要的数据</text></switch></g><path d="M 882.5 380 L 903.66 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 908.91 380 L 901.91 383.5 L 903.66 380 L 901.91 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="752.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前登录用户的全部地址列表用户选择</div></div></div></foreignObject><text x="818" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前登录用户的全部地址列表用户选择</text></switch></g><path d="M 1060.03 380 L 1086.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1091.38 380 L 1084.38 383.5 L 1086.13 380 L 1084.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="910.03" y="350" width="150" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 380px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</div></div></div></foreignObject><text x="985" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</text></switch></g><rect x="1092.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 1094px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据选中的地址计算获取运费</div></div></div></foreignObject><text x="1158" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据选中的地址计算获取运费</text></switch></g><path d="M 760 310 L 870 310 L 870 310 L 880 325 L 870 340 L 870 340 L 760 340 L 770 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务</div></div></div></foreignObject><text x="820" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务</text></switch></g><path d="M 1100 310 L 1200 310 L 1200 310 L 1210 325 L 1200 340 L 1200 340 L 1100 340 L 1110 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 1155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="1155" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 872.5 530.5 L 918.66 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 923.91 530.5 L 916.91 534 L 918.66 530.5 L 916.91 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="752.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">从redis里获取当前登录用户的购物项列表</div></div></div></foreignObject><text x="813" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从redis里获取当前登录用户的购物项列表</text></switch></g><path d="M 760 460 L 860 460 L 860 460 L 870 475 L 860 490 L 860 490 L 760 490 L 770 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 815px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="815" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 1045.03 530.5 L 1086.13 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1091.38 530.5 L 1084.38 534 L 1086.13 530.5 L 1084.38 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="925.03" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 926px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的最新价格</div></div></div></foreignObject><text x="985" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的最新价格</text></switch></g><rect x="1092.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 1094px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的库存情况</div></div></div></foreignObject><text x="1153" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的库存情况</text></switch></g><path d="M 1100 460 L 1200 460 L 1200 460 L 1210 475 L 1200 490 L 1200 490 L 1100 490 L 1110 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 1155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="1155" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 930 460 L 1035.03 460 L 1035.03 460 L 1045.03 475 L 1035.03 490 L 1035.03 490 L 930 490 L 940 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 988px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="988" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="717.5" y="570" width="190" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 580px; margin-left: 813px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"eshopblvd:cart:"+userId</span></div></div></div></foreignObject><text x="813" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">key为"eshopblvd:cart:"+userId</text></switch></g><rect x="752.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取优惠券、积分等信息</div></div></div></foreignObject><text x="813" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取优惠券、积分等信息</text></switch></g><path d="M 760 630 L 860 630 L 860 630 L 870 645 L 860 660 L 860 660 L 760 660 L 770 645 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 645px; margin-left: 815px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">优惠券服务</div></div></div></foreignObject><text x="815" y="649" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">优惠券服务</text></switch></g><path d="M 592.5 509.5 L 592.5 533.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 538.88 L 589 531.88 L 592.5 533.63 L 596 531.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="523.75" y="439.5" width="137.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 475px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</div></div></div></foreignObject><text x="593" y="478" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</text></switch></g><path d="M 592.5 630 L 592.5 663.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 668.88 L 589 661.88 L 592.5 663.63 L 596 661.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="497.5" y="540" width="190" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 585px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建一个防重令牌<br />防止重复订单提交，预先生成令牌<br />存入redis<br />key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"order:token:"+用户id<br />value为随机值<br /></span></div></div></div></foreignObject><text x="593" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建一个防重令牌防止重复订单提交，预先生成令牌存入redis...</text></switch></g><rect x="532.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回这些数据等<br />渲染订单确认页</div></div></div></foreignObject><text x="593" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回这些数据等&#xa;渲染订单确认页</text></switch></g><path d="M 592.5 860 L 592.5 873.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 878.88 L 589 871.88 L 592.5 873.63 L 596 871.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="800" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 830px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单确认页点击<br />「提交订单」</div></div></div></foreignObject><text x="593" y="834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单确认页点击&#xa;「提交订单」</text></switch></g><path d="M 642.5 1040 L 681.13 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 686.38 1040 L 679.38 1043.5 L 681.13 1040 L 679.38 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1040px; margin-left: 665px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="665" y="1043" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.5 1080 L 592.5 1113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 1118.88 L 589 1111.88 L 592.5 1113.63 L 596 1111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1100px; margin-left: 592px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="592" y="1103" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 592.5 1000 L 642.5 1040 L 592.5 1080 L 542.5 1040 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1040px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">校验订单确认页带的防重令牌</div></div></div></foreignObject><text x="593" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">校验订单确认页带的防重令牌</text></switch></g><path d="M 592.5 980 L 592.5 993.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 998.88 L 589 991.88 L 592.5 993.63 L 596 991.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="533.75" y="880" width="117.5" height="100" rx="15" ry="15" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 930px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">提交数据包括了<br />收货地址id<br />支付方式<br />应付价格<br />订单备注<br />防重令牌</div></div></div></foreignObject><text x="593" y="934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">提交数据包括了收货地址id...</text></switch></g><path d="M 652.75 1273 L 682.71 1273.14 L 682.71 1203.14 L 706.38 1203.03" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 711.63 1203.01 L 704.65 1206.54 L 706.38 1203.03 L 704.62 1199.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.75 1273 L 682.71 1273.14 L 682.71 1343.14 L 706.38 1343.03" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 711.63 1343.01 L 704.65 1346.54 L 706.38 1343.03 L 704.62 1339.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.75 1303 L 592.71 1373.14 L 592.51 1436.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1441.88 L 589.02 1434.87 L 592.51 1436.63 L 596.02 1434.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.75" y="1243" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1273px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单数据</div></div></div></foreignObject><text x="593" y="1277" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单数据</text></switch></g><path d="M 592.49 1170 L 592.43 1206.57 L 592.69 1236.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.74 1241.88 L 589.18 1234.91 L 592.69 1236.63 L 596.18 1234.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="539.37" y="1120" width="106.25" height="50" rx="7.5" ry="7.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 104px; height: 1px; padding-top: 1145px; margin-left: 540px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">删除令牌</div></div></div></foreignObject><text x="592" y="1149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">删除令牌</text></switch></g><path d="M 355 990 L 520 990 L 520 1070 L 500.5 1070 L 520 1100 L 470.5 1070 L 355 1070 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 1029px; margin-left: 356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>保证接口幂等性<br />利用redis luna脚本进行令牌验证+删除的原子性操作</span><br /><font style="font-size: 12px"><span>key为</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">"order:token:"+</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">用户</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">id value</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">为随机值</span></font></div></div></div></foreignObject><text x="438" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保证接口幂等性利用redis luna脚本进行令牌验证+删除的原子性操作...</text></switch></g><path d="M 542.5 0 L 632.5 0 L 632.5 0 L 642.5 15 L 632.5 30 L 632.5 30 L 542.5 30 L 552.5 15 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 593px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="593" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><rect x="712.75" y="1163" width="152.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 151px; height: 1px; padding-top: 1203px; margin-left: 714px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单的基本数据<br />订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</div></div></div></foreignObject><text x="789" y="1207" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单的基本数据&#xa;订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</text></switch></g><rect x="712.75" y="1313" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1343px; margin-left: 714px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id获取收货地址信息、根据选中收货地址来计算运费</div></div></div></foreignObject><text x="773" y="1347" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id获取收货地址信息、根据选中收货地址来计算运费</text></switch></g><path d="M 722.75 1273 L 812.75 1273 L 812.75 1273 L 822.75 1288 L 812.75 1303 L 812.75 1303 L 722.75 1303 L 732.75 1288 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 773px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="773" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 542.49 760 L 632.49 760 L 632.49 760 L 642.49 775 L 632.49 790 L 632.49 790 L 542.49 790 L 552.49 775 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 775px; margin-left: 592px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务<br />（本地事务）</div></div></div></foreignObject><text x="592" y="779" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务&#xa;（本地事务）</text></switch></g><path d="M 652.49 1473 L 703.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1473 L 702.13 1476.5 L 703.88 1473 L 702.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.49 1473 L 681.29 1473.14 L 681.29 1593.14 L 703.88 1593.03" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1593.01 L 702.15 1596.54 L 703.88 1593.03 L 702.11 1589.54 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.49 1473 L 681.29 1473.14 L 681.29 1710 L 703.88 1710" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1710 L 702.13 1713.5 L 703.88 1710 L 702.13 1706.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.49 1503 L 592.49 1628.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1633.88 L 588.99 1626.88 L 592.49 1628.63 L 595.99 1626.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.49" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 533px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单项数据</div></div></div></foreignObject><text x="592" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单项数据</text></switch></g><path d="M 830.25 1473 L 883.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 889.13 1473 L 882.13 1476.5 L 883.88 1473 L 882.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="710.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前用户购物车中的购物项列表<br />封装成订单项列表</div></div></div></foreignObject><text x="770" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前用户购物车中的购物项列表&#xa;封装成订单项列表</text></switch></g><rect x="890.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个购物项都更新了最新的价格和库存</div></div></div></foreignObject><text x="950" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个购物项都更新了最新的价格和库存</text></switch></g><path d="M 900.25 1403 L 990.25 1403 L 990.25 1403 L 1000.25 1418 L 990.25 1433 L 990.25 1433 L 900.25 1433 L 910.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="950" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 900.25 1363 L 990.25 1363 L 990.25 1363 L 1000.25 1378 L 990.25 1393 L 990.25 1393 L 900.25 1393 L 910.25 1378 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="950" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="710.25" y="1563" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1593px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取每个订单项sku的spu信息</div></div></div></foreignObject><text x="770" y="1597" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取每个订单项sku的spu信息</text></switch></g><path d="M 720.25 1403 L 810.25 1403 L 810.25 1403 L 820.25 1418 L 810.25 1433 L 810.25 1433 L 720.25 1433 L 730.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="770" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 720.25 1523 L 810.25 1523 L 810.25 1523 L 820.25 1538 L 810.25 1553 L 810.25 1553 L 720.25 1553 L 730.25 1538 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1538px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="770" y="1542" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="710.25" y="1680" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1710px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个订单项减去促销、优惠、积分后计算得到实际金额</div></div></div></foreignObject><text x="770" y="1714" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个订单项减去促销、优惠、积分后计算得到实际金额</text></switch></g><path d="M 592.49 1705 L 592.49 1743.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1748.88 L 588.99 1741.88 L 592.49 1743.63 L 595.99 1741.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="518.74" y="1635" width="147.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 146px; height: 1px; padding-top: 1670px; margin-left: 520px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">减去每个订单项促销、优惠、积分信息，加上运费<br />得到最后整个订单应付价格</div></div></div></foreignObject><text x="592" y="1674" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">减去每个订单项促销、优惠、积分信息，加上运费&#xa;得到最后整个订单应付价格</text></switch></g><path d="M 681.24 1795 L 724.01 1795" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 729.26 1795 L 722.26 1798.5 L 724.01 1795 L 722.26 1791.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1796px; margin-left: 697px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="697" y="1800" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.49 1840 L 591.51 1863.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.3 1868.88 L 588.09 1861.74 L 591.51 1863.64 L 595.08 1862.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.49 1750 L 681.24 1795 L 592.49 1840 L 503.74 1795 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 1795px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价<br />计算得到最新的应付价格和提交订单的应付价格差值小于0.01</div></div></div></foreignObject><text x="592" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价&#xa;计算得到最新的应付价格和提交订单的应付价格差值小于0.01</text></switch></g><path d="M 591.25 1950 L 591.25 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2018.88 L 587.75 2011.88 L 591.25 2013.63 L 594.75 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="1870" width="117.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 1910px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><p class="p1" style="margin: 0px ; font-stretch: normal ; line-height: normal"><font style="font-size: 12px">将订单和订单项数据保存数据库<br />「oms_order」<br />「oms_order_item」<br /></font></p></div></div></div></foreignObject><text x="591" y="1914" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将订单和订单项数据保存数据库「oms_order」...</text></switch></g><path d="M 651.25 2050 L 716.51 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 721.76 2050 L 714.76 2053.5 L 716.51 2050 L 714.76 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 591.25 2080 L 591.29 2100 L 591.43 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.48 2118.88 L 587.91 2111.92 L 591.43 2113.63 L 594.91 2111.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存</div></div></div></foreignObject><text x="591" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存</text></switch></g><rect x="852.37" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 853px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">重定向到订单确认页</div></div></div></foreignObject><text x="912" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">重定向到订单确认页</text></switch></g><path d="M 807.5 1040 L 846 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 851.25 1040 L 844.25 1043.5 L 846 1040 L 844.25 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="687.5" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 689px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">令牌验证失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="748" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">令牌验证失败，抛异常，本地事务回滚</text></switch></g><path d="M 870.13 1795 L 890.14 1794.86 L 885.29 1794.86 L 898.91 1794.86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 904.16 1794.86 L 897.16 1798.36 L 898.91 1794.86 L 897.16 1791.36 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="730.38" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 731px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="800" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价失败，抛异常，本地事务回滚</text></switch></g><rect x="905.28" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 906px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单应付价格发生变化<br />重定向到订单确认页</div></div></div></foreignObject><text x="975" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单应付价格发生变化&#xa;重定向到订单确认页</text></switch></g><path d="M 870.13 2050 L 908.79 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 914.04 2050 L 907.04 2053.5 L 908.79 2050 L 907.04 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="722.88" y="2020" width="147.25" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 145px; height: 1px; padding-top: 2050px; margin-left: 724px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">保存库存工作单<br />「wms_ware_order_task」<br />主要用来通过订单号<br />来查询映射的工作单id</div></div></div></foreignObject><text x="797" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保存库存工作单「wms_ware_order_task」...</text></switch></g><path d="M 790 1846 L 984.97 1846 L 984.97 1946 L 907.49 1946 L 887.49 1976 L 887.49 1946 L 790 1946 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1895px; margin-left: 791px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</div></div></div></foreignObject><text x="887" y="1899" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</text></switch></g><path d="M 1245 2220 L 1245 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2248.88 L 1241.5 2241.88 L 1245 2243.63 L 1248.5 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1150" y="2140" width="190" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2180px; margin-left: 1151px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁成功后，保存库存工作单详情<br />「wms_ware_order_task_detail」<br />保存skuId、商品数量、仓库id、工作单id、锁定状态</div></div></div></foreignObject><text x="1245" y="2184" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁成功后，保存库存工作单详情「wms_ware_order_task_detail」...</text></switch></g><path d="M 975.16 2080 L 975.16 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 975.16 2118.88 L 971.66 2111.88 L 975.16 2113.63 L 978.66 2111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="915.16" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 916px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对于每个订单项尝试锁库存</div></div></div></foreignObject><text x="975" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对于每个订单项尝试锁库存</text></switch></g><path d="M 1245 1980 L 1245 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2018.88 L 1241.5 2011.88 L 1245 2013.63 L 1248.5 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1176.25" y="1920" width="137.5" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 1950px; margin-left: 1177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">找到该商品sku最近的且有足够库存的仓库<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span><span>」</span></div></div></div></foreignObject><text x="1245" y="1954" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">找到该商品sku最近的且有足够库存的仓库...</text></switch></g><path d="M 730 1980 L 1020 1980 L 1020 1980 L 1030 1995 L 1020 2010 L 1020 2010 L 730 2010 L 740 1995 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1995px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="880" y="1999" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 1245 2090 L 1245 2133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2138.88 L 1241.5 2131.88 L 1245 2133.63 L 1248.5 2131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1151.25" y="2020" width="187.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 2055px; margin-left: 1152px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">真正锁库存<br />找到这个仓库的这个sku商品<br />给其stock_locked字段加上sku数量<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span>」</div></div></div></foreignObject><text x="1245" y="2059" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">真正锁库存找到这个仓库的这个sku商品...</text></switch></g><path d="M 1050 2034 L 1100 2034 L 1100 2025 L 1120 2050 L 1100 2075 L 1100 2066 L 1050 2066 L 1050 2050 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><path d="M 1245 2310 L 1245 2344 L 1245.62 2371.63" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245.74 2376.88 L 1242.08 2369.96 L 1245.62 2371.63 L 1249.08 2369.81 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2343px; margin-left: 1246px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="1246" y="2347" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><rect x="1185" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 1186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="1245" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><path d="M 695 1640 L 835 1640 L 835 1640 L 845 1655 L 835 1670 L 835 1670 L 695 1670 L 705 1655 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1655px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务、优惠券服务</div></div></div></foreignObject><text x="770" y="1659" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务、优惠券服务</text></switch></g><path d="M 1290.76 2408 L 1380.71 2408 L 1380.71 2548 L 1367.13 2548" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1361.88 2548 L 1368.88 2544.5 L 1367.13 2548 L 1368.88 2551.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2442px; margin-left: 1381px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="1381" y="2446" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><path d="M 1201.3 2429.48 L 1081 2429.43 L 1081 2628 L 1134.39 2628" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.64 2628 L 1132.64 2631.5 L 1134.39 2628 L 1132.64 2624.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2551px; margin-left: 1082px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release.#</div></div></div></foreignObject><text x="1082" y="2554" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release.#</text></switch></g><path d="M 1200.76 2408 L 1020.14 2408 L 1020.14 2648 L 1134.39 2648" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.64 2648 L 1132.64 2651.5 L 1134.39 2648 L 1132.64 2644.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2515px; margin-left: 1023px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other.#</div></div></div></foreignObject><text x="1023" y="2518" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other.#</text></switch></g><path d="M 1209.03 2378 L 1282.49 2378 C 1285.45 2378 1288.18 2383.72 1289.65 2393 C 1291.13 2402.28 1291.13 2413.72 1289.65 2423 C 1288.18 2432.28 1285.45 2438 1282.49 2438 L 1209.03 2438 C 1206.07 2438 1203.34 2432.28 1201.87 2423 C 1200.39 2413.72 1200.39 2402.28 1201.87 2393 C 1203.34 2383.72 1206.07 2378 1209.03 2378 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 1282.49 2378 C 1279.54 2378 1276.81 2383.72 1275.34 2393 C 1273.86 2402.28 1273.86 2413.72 1275.34 2423 C 1276.81 2432.28 1279.54 2438 1282.49 2438" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2408px; margin-left: 1202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="1246" y="2412" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock-...</text></switch></g><ellipse cx="1135" cy="2348" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="1135" cy="2348" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2348px; margin-left: 1090px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="1135" y="2352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 1140.76 2548 L 1120.71 2548 L 1120.71 2482.86 L 1245.86 2482.86 L 1245.77 2444.37" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245.76 2439.12 L 1249.28 2446.11 L 1245.77 2444.37 L 1242.28 2446.13 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2485px; margin-left: 1180px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release</div></div></div></foreignObject><text x="1180" y="2489" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release</text></switch></g><rect x="1140.76" y="2528" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="1142.76" y="2530" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2548px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.delay.queue<br />延时队列，50min后解锁库存</div></div></div></foreignObject><text x="1251" y="2552" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.delay.queue...</text></switch></g><rect x="1140.76" y="2618" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="1142.76" y="2620" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2638px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.release.stock.queue<br />库存解锁队列</div></div></div></foreignObject><text x="1251" y="2642" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.release.stock.queue...</text></switch></g><path d="M 1250.76 2768 L 1250.71 2798 L 1435 2798 L 1435.01 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.01 2826.88 L 1431.51 2819.88 L 1435.01 2821.63 L 1438.51 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1250.76 2768 L 1250.71 2798 L 982.14 2798 L 982.12 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 2826.88 L 978.63 2819.88 L 982.12 2821.63 L 985.63 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1190.76" y="2708" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2738px; margin-left: 1192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听库存解锁队列<br />解锁库存</div></div></div></foreignObject><text x="1251" y="2742" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听库存解锁队列解锁库存...</text></switch></g><path d="M 1235.76 2666.71 L 1253.47 2666.71 L 1253.47 2653 L 1265.76 2683 L 1253.47 2713 L 1253.47 2699.29 L 1235.76 2699.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,1250.76,2683)" pointer-events="all"/><path d="M 1435.01 2888 L 1435.01 2951.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.01 2956.88 L 1431.51 2949.88 L 1435.01 2951.63 L 1438.51 2949.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1375.01" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 1376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">收到50min后自动解锁库存的消息</div></div></div></foreignObject><text x="1435" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">收到50min后自动解锁库存的消息</text></switch></g><path d="M 982.12 2888 L 982.12 2978.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 2983.88 L 978.62 2976.88 L 982.12 2978.63 L 985.62 2976.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="922.12" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 923px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单关闭收到解锁库存的消息</div></div></div></foreignObject><text x="982" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单关闭收到解锁库存的消息</text></switch></g><path d="M 1435.83 3520 L 1435.83 3541.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.83 3546.88 L 1432.33 3539.88 L 1435.83 3541.63 L 1439.33 3539.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1344.99" y="3440" width="181.68" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 180px; height: 1px; padding-top: 3480px; margin-left: 1346px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对这个工作单详情进行库存解锁<br />1. 「wms_ware_sku」的stock_locked减去商品数量<br />2. 库存工作单详情的lock_status更新为已解锁</div></div></div></foreignObject><text x="1436" y="3484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对这个工作单详情进行库存解锁1. 「wms_ware_sku」的stock_locked减去商品数量...</text></switch></g><path d="M 1435.3 3398 L 1435.29 3418.86 L 1435.67 3433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.8 3438.88 L 1432.12 3431.97 L 1435.67 3433.63 L 1439.12 3431.79 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1376.67 3353 L 1344.26 3353" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1339.01 3353 L 1346.01 3349.5 L 1344.26 3353 L 1346.01 3356.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.3 3308 L 1493.92 3353 L 1435.3 3398 L 1376.67 3353 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 115px; height: 1px; padding-top: 3353px; margin-left: 1378px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">没有订单或订单的状态为已关闭</div></div></div></foreignObject><text x="1435" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有订单或订单的状态为已关闭</text></switch></g><ellipse cx="1375" cy="2928" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="1375" cy="2928" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 1330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="1375" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 1240.82 3108 L 1330.82 3108 L 1330.82 3108 L 1340.82 3123 L 1330.82 3138 L 1330.82 3138 L 1240.82 3138 L 1250.82 3123 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3123px; margin-left: 1291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="1291" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 1435.82 3158 L 1435.86 3178 L 1435.47 3191.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.32 3196.88 L 1432.02 3189.79 L 1435.47 3191.63 L 1439.02 3189.98 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1350.89" y="3088" width="169.87" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 3123px; margin-left: 1352px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询工作单id对应的订单号<br />「wms_ware_order」<br />根据订单号来获取订单的状态</div></div></div></foreignObject><text x="1436" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询工作单id对应的订单号...</text></switch></g><path d="M 1348.76 3003 L 1293.62 3003" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1288.37 3003 L 1295.37 2999.5 L 1293.62 3003 L 1295.37 3006.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3004px; margin-left: 1322px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1322" y="3008" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 1435.01 3048 L 1435 3068 L 1435.56 3081.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.78 3086.88 L 1431.99 3080.03 L 1435.56 3081.64 L 1438.99 3079.74 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3067px; margin-left: 1437px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1437" y="3070" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1435.01 2958 L 1521.26 3003 L 1435.01 3048 L 1348.76 3003 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 3003px; margin-left: 1350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态</span><br /><span>「wms_ware_order_task_detail」<br /></span></div></div></div></foreignObject><text x="1435" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态「wms_ware_order_task_detail」...</text></switch></g><rect x="1130" y="2940.5" width="157.25" height="125" rx="18.75" ry="18.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 155px; height: 1px; padding-top: 3003px; margin-left: 1131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交<br />（2）工作单详情不是锁定状态，订单取消后已经率先一步解锁库存了，所以就是无需解锁</div></div></div></foreignObject><text x="1209" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交...</text></switch></g><path d="M 1395.29 3238 L 1340.63 3238" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1335.38 3238 L 1342.38 3234.5 L 1340.63 3238 L 1342.38 3241.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.29 3278 L 1435.29 3301.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.29 3306.88 L 1431.79 3299.88 L 1435.29 3301.63 L 1438.79 3299.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.29 3198 L 1475.29 3238 L 1435.29 3278 L 1395.29 3238 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 3238px; margin-left: 1396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询是否成功</span></div></div></div></foreignObject><text x="1435" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询是否成功</text></switch></g><rect x="1214.26" y="3208" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3238px; margin-left: 1215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，拒绝收到的消息，重新放回库存解锁队列</div></div></div></foreignObject><text x="1274" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，拒绝收到的消息，重新放回库存解锁队列</text></switch></g><rect x="1217.89" y="3323" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3353px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单还在，且不是关闭状态，那么就不需要解锁库存</div></div></div></foreignObject><text x="1278" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单还在，且不是关闭状态，那么就不需要解锁库存</text></switch></g><rect x="1375.83" y="3548" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3578px; margin-left: 1377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">给库存解锁队列返回消息确认ack</div></div></div></foreignObject><text x="1436" y="3582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">给库存解锁队列返回消息确认ack</text></switch></g><path d="M 1507.51 3300 L 1772.51 3300 L 1772.51 3418 L 1567.26 3418 L 1536.66 3440 L 1547.26 3418 L 1507.51 3418 Z" fill="#ffff88" stroke="#36393d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 3359px; margin-left: 1509px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存<br />（2）订单的状态为已关闭，说明订单已经关闭，需要解锁库存</div></div></div></foreignObject><text x="1640" y="3362" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存...</text></switch></g><rect x="915.16" y="2120" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2150px; margin-left: 916px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>如果有任何一个订单项没有锁定成功，回滚当前库存事务</span></div></div></div></foreignObject><text x="975" y="2154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有任何一个订单项没有锁定成功，回滚当前库存事务</text></switch></g><path d="M 542.12 2160 L 481.37 2160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 476.12 2160 L 483.12 2156.5 L 481.37 2160 L 483.12 2163.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2163px; margin-left: 512px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="512" y="2167" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 591.49 2200 L 591.49 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 2248.88 L 587.99 2241.88 L 591.49 2243.63 L 594.99 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2226px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="591" y="2229" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 591.49 2120 L 640.87 2160 L 591.49 2200 L 542.12 2160 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 97px; height: 1px; padding-top: 2160px; margin-left: 543px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存是否成功</div></div></div></foreignObject><text x="591" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存是否成功</text></switch></g><rect x="355" y="2130" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2160px; margin-left: 356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，事务回滚<br />库存不足</div></div></div></foreignObject><text x="415" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，事务回滚&#xa;库存不足</text></switch></g><path d="M 591.49 2310 L 591.57 2330 L 591.35 2343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.27 2348.88 L 587.88 2341.83 L 591.35 2343.63 L 594.88 2341.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单创建成功</div></div></div></foreignObject><text x="591" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单创建成功</text></switch></g><path d="M 591.25 2410 L 591.25 2461.63" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2466.88 L 587.75 2459.88 L 591.25 2461.63 L 594.75 2459.88 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2434px; margin-left: 594px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="594" y="2438" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><path d="M 531.49 2280 L 249.86 2280 L 249.86 3560 L 517.51 3560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 522.76 3560 L 515.76 3563.5 L 517.51 3560 L 515.76 3556.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2380px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="591" y="2384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><ellipse cx="696.14" cy="2438" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="696.14" cy="2438" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2438px; margin-left: 651px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="696" y="2442" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 636.25 2498 L 722.71 2498 L 722.71 2598 L 709.12 2598" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 703.87 2598 L 710.87 2594.5 L 709.12 2598 L 710.87 2601.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2550px; margin-left: 724px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="724" y="2553" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><path d="M 546.25 2498 L 410.14 2498 L 410.14 2678 L 474.63 2678" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 479.88 2678 L 472.88 2681.5 L 474.63 2678 L 472.88 2674.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2603px; margin-left: 410px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="410" y="2607" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><path d="M 554.52 2468 L 627.98 2468 C 630.94 2468 633.67 2473.72 635.14 2483 C 636.62 2492.28 636.62 2503.72 635.14 2513 C 633.67 2522.28 630.94 2528 627.98 2528 L 554.52 2528 C 551.56 2528 548.83 2522.28 547.36 2513 C 545.88 2503.72 545.88 2492.28 547.36 2483 C 548.83 2473.72 551.56 2468 554.52 2468 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 627.98 2468 C 625.03 2468 622.3 2473.72 620.83 2483 C 619.35 2492.28 619.35 2503.72 620.83 2513 C 622.3 2522.28 625.03 2528 627.98 2528" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2498px; margin-left: 547px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="591" y="2502" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order-...</text></switch></g><path d="M 482.75 2598 L 462.71 2598 L 462.71 2552.86 L 591.29 2552.86 L 591.26 2534.37" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2529.12 L 594.76 2536.11 L 591.26 2534.37 L 587.76 2536.12 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2553px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="526" y="2557" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><rect x="482.75" y="2578" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="484.75" y="2580" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2598px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.delay.queue<br />延时队列，30min后开始关闭订单</div></div></div></foreignObject><text x="593" y="2602" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.delay.queue...</text></switch></g><rect x="482.75" y="2658" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="484.75" y="2660" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2678px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.release.order.queue<br />订单释放队列</div></div></div></foreignObject><text x="593" y="2682" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.release.order.queue...</text></switch></g><path d="M 576.25 2706.71 L 593.96 2706.71 L 593.96 2693 L 606.25 2723 L 593.96 2753 L 593.96 2739.29 L 576.25 2739.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,591.25,2723)" pointer-events="all"/><path d="M 591.49 2810 L 591.57 2830 L 591.36 2843.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.27 2848.88 L 587.88 2841.83 L 591.36 2843.63 L 594.88 2841.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="2750" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2780px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听订单释放队列<br />准备关闭过期订单</div></div></div></foreignObject><text x="591" y="2784" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听订单释放队列准备关闭过期订单...</text></switch></g><path d="M 511.88 2890 L 456.37 2890" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 451.12 2890 L 458.12 2886.5 L 456.37 2890 L 458.12 2893.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2890px; margin-left: 480px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="480" y="2893" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 591.26 2930 L 591.25 2966.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2971.88 L 587.75 2964.88 L 591.25 2966.63 L 594.75 2964.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2953px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="591" y="2956" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 591.26 2850 L 670.63 2890 L 591.26 2930 L 511.88 2890 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 2890px; margin-left: 513px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询该订单的最新状态是不是还是新建待付款？</div></div></div></foreignObject><text x="591" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询该订单的最新状态是不是还是新建待付款？</text></switch></g><ellipse cx="680.38" cy="2840" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="680.38" cy="2840" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2840px; margin-left: 635px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="680" y="2844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><rect x="330" y="2860" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2890px; margin-left: 331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">无需关订单<br />消息确认ack</div></div></div></foreignObject><text x="390" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">无需关订单&#xa;消息确认ack</text></switch></g><path d="M 591.25 3033 L 591.45 3063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.48 3068.88 L 587.94 3061.9 L 591.45 3063.63 L 594.94 3061.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2973" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3003px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新订单的状态为已取消<br />「oms_order」</div></div></div></foreignObject><text x="591" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新订单的状态为已取消&#xa;「oms_order」</text></switch></g><path d="M 651.49 3100 L 790.14 3100 L 790.14 2392.86 L 1193.94 2392.88" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1199.19 2392.88 L 1192.19 2396.38 L 1193.94 2392.88 L 1192.19 2389.38 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2669px; margin-left: 792px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other</div></div></div></foreignObject><text x="792" y="2672" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other</text></switch></g><path d="M 591.49 3130 L 591.49 3163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 3168.88 L 587.99 3161.88 L 591.49 3163.63 L 594.99 3161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="3070" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3100px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给库存交换机<br />准备解锁库存</div></div></div></foreignObject><text x="591" y="3104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给库存交换机&#xa;准备解锁库存</text></switch></g><ellipse cx="702.75" cy="3058" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="702.75" cy="3058" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 3058px; margin-left: 658px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="703" y="3062" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><ellipse cx="902.37" cy="2928" rx="50" ry="30.000000000000004" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="902.37" cy="2928" rx="46" ry="26.000000000000004" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 857px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="902" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 591.49 3250 L 591.49 3283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 3288.88 L 587.99 3281.88 L 591.49 3283.63 L 594.99 3281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 591.49 3170 L 646.3 3210 L 591.49 3250 L 536.68 3210 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 3210px; margin-left: 538px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">解锁库存的消息是否成功发送</div></div></div></foreignObject><text x="591" y="3214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">解锁库存的消息是否成功发送</text></switch></g><path d="M 982.12 3070 L 982.12 3123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 3128.88 L 978.62 3121.88 L 982.12 3123.63 L 985.62 3121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="881.21" y="2985" width="201.82" height="85" rx="12.75" ry="12.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 200px; height: 1px; padding-top: 3028px; margin-left: 882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存<br />「wms_ware_order」<br />「wms_ware_order_task_detail」</div></div></div></foreignObject><text x="982" y="3031" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存「wms_ware_order」...</text></switch></g><path d="M 924.7 3170 L 876.5 3170" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 871.25 3170 L 878.25 3166.5 L 876.5 3170 L 878.25 3173.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3170px; margin-left: 896px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">无</div></div></div></foreignObject><text x="896" y="3173" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">无</text></switch></g><path d="M 982.12 3210 L 982.14 3480 L 1338.62 3480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1343.87 3480 L 1336.87 3483.5 L 1338.62 3480 L 1336.87 3476.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 982.12 3130 L 1039.54 3170 L 982.12 3210 L 924.7 3170 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 113px; height: 1px; padding-top: 3170px; margin-left: 926px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果有这样的库存工作单详情</div></div></div></foreignObject><text x="982" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有这样的库存工作单详情</text></switch></g><rect x="750.13" y="3140" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3170px; margin-left: 751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>没有库存需要解锁<br />消息确认ack</span></div></div></div></foreignObject><text x="810" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有库存需要解锁&#xa;消息确认ack</text></switch></g><path d="M 308.99 2990 L 518.74 2990 L 518.74 3078 L 505.2 3078 L 518.74 3108 L 464.2 3078 L 308.99 3078 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 3033px; margin-left: 310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发这一消息的原因<br />防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</div></div></div></foreignObject><text x="414" y="3037" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发这一消息的原因&#xa;防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</text></switch></g><rect x="522.74" y="3290" width="137.51" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 3325px; margin-left: 524px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">失败的消息存在数据库<br />定期扫描数据库将失败的消息进行重新发送</div></div></div></foreignObject><text x="591" y="3329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">失败的消息存在数据库&#xa;定期扫描数据库将失败的消息进行重新发送</text></switch></g><path d="M 583.88 3590 L 583.86 3610 L 584.25 3623.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.4 3628.88 L 580.7 3621.99 L 584.25 3623.63 L 587.7 3621.79 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="523.88" y="3530" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3560px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单提交成功<br />来到支付选择页</div></div></div></foreignObject><text x="584" y="3564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单提交成功&#xa;来到支付选择页</text></switch></g><path d="M 584.25 3690 L 584.43 3710 L 584.14 3723.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.02 3728.88 L 580.67 3721.81 L 584.14 3723.63 L 587.67 3721.96 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.25" y="3630" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3660px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">点击「支付宝」支付<br />/order/payOrder<br />带上参数是订单号orderSn</div></div></div></foreignObject><text x="584" y="3664" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">点击「支付宝」支付/order/payOrder...</text></switch></g><path d="M 584 3800 L 584.66 3827.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.79 3832.88 L 581.12 3825.97 L 584.66 3827.63 L 588.12 3825.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 647.75 3765 L 704.13 3765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.38 3765 L 702.38 3768.5 L 704.13 3765 L 702.38 3761.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="520.25" y="3730" width="127.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 126px; height: 1px; padding-top: 3765px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构造要给alipayTemplate的参数<br /></div></div></div></foreignObject><text x="584" y="3769" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构造要给alipayTemplate的参数&#xa;</text></switch></g><rect x="710.5" y="3727.5" width="189.75" height="75" rx="11.25" ry="11.25" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 3765px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>商户订单号：out_trade_no</span><br /><span>订单名称：subject</span><br /><span>付款金额：total_amount</span><br /><span>body：商品描述</span></div></div></div></foreignObject><text x="805" y="3769" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商户订单号：out_trade_no...</text></switch></g><path d="M 758 3690 L 848 3690 L 848 3690 L 858 3705 L 848 3720 L 848 3720 L 758 3720 L 768 3705 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3705px; margin-left: 808px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="808" y="3709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 584.81 3974 L 584.71 3994 L 584.54 4003.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.45 4008.88 L 581.07 4001.82 L 584.54 4003.63 L 588.07 4001.95 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="471.75" y="3834" width="226.13" height="140" rx="21" ry="21" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 3904px; margin-left: 473px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用alipayTemplate的pay方法<br /><br />根据预先的配置（应用id、商户私钥、支付宝公钥、成功同步通知路径、异步通知路径、签名方式、编码方式）<br /><br />设置有效支付时间为30min<br /><br />生成一个支付宝客户端</div></div></div></foreignObject><text x="585" y="3908" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">调用alipayTemplate的pay方法...</text></switch></g><path d="M 584.25 4070 L 584.25 4103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.25 4108.88 L 580.75 4101.88 L 584.25 4103.63 L 587.75 4101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.25" y="4010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4040px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建支付请求，发送</div></div></div></foreignObject><text x="584" y="4044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建支付请求，发送</text></switch></g><path d="M 584.25 4200 L 584.25 4234.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.25 4239.38 L 580.75 4232.38 L 584.25 4234.13 L 587.75 4232.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="479.25" y="4110" width="210" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 4155px; margin-left: 480px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝的响应，响应的是一个页面（text/html），只要浏览器显示这个页面，就会自动来到支付宝的收银台页面</div></div></div></foreignObject><text x="584" y="4159" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝的响应，响应的是一个页面（text/html），只要浏览器显示这个页面，就会自动来到支付宝的收银台页面</text></switch></g><path d="M 657.43 4270.5 L 701.38 4270.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 706.63 4270.5 L 699.63 4274 L 701.38 4270.5 L 699.63 4267 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="511.06" y="4240.5" width="146.37" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 144px; height: 1px; padding-top: 4271px; margin-left: 512px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">在30min内支付成功后，根据预先配置的同步通知地址来到订单列表页</div></div></div></foreignObject><text x="584" y="4274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">在30min内支付成功后，根据预先配置的同步通知地址来到订单列表页</text></switch></g><rect x="707.75" y="4223" width="190.13" height="95" rx="14.25" ry="14.25" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 4271px; margin-left: 709px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单列表页会根据登陆用户id来分页查询其关联的所有订单，并且每个订单里都封装所属的所有订单项<br />根据请求的数据渲染订单列表页</div></div></div></foreignObject><text x="803" y="4274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单列表页会根据登陆用户id来分页查询其关联的所有订单，并且每个订单里都封装所属的所有订单项...</text></switch></g><path d="M 752.81 4180 L 842.81 4180 L 842.81 4180 L 852.81 4195 L 842.81 4210 L 842.81 4210 L 752.81 4210 L 762.81 4195 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4195px; margin-left: 803px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="803" y="4199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 534.25 3490 L 624.25 3490 L 624.25 3490 L 634.25 3505 L 624.25 3520 L 624.25 3520 L 534.25 3520 L 544.25 3505 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3505px; margin-left: 584px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="584" y="3509" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 584.82 4460 L 584.71 4480 L 584.15 4493.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 583.93 4498.88 L 580.72 4491.74 L 584.15 4493.64 L 587.72 4492.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.82" y="4400" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4430px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">处理支付宝支付成功异步通知</div></div></div></foreignObject><text x="585" y="4434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">处理支付宝支付成功异步通知</text></switch></g><path d="M 564.62 4342 L 589.62 4342 L 589.62 4330 L 604.62 4360 L 589.62 4390 L 589.62 4378 L 564.62 4378 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,584.62,4360)" pointer-events="all"/><path d="M 650.88 4535 L 687.65 4535" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 692.9 4535 L 685.9 4538.5 L 687.65 4535 L 685.9 4531.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 583.88 4570 L 583.86 4590 L 584.51 4603.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.77 4608.88 L 580.93 4602.06 L 584.51 4603.64 L 587.93 4601.72 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="516.88" y="4500" width="134" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 132px; height: 1px; padding-top: 4535px; margin-left: 518px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证签名<br />请求中包含了明文和签名，通过签名来验证明文有没有被篡改过</div></div></div></foreignObject><text x="584" y="4539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证签名&#xa;请求中包含了明文和签名，通过签名来验证明文有没有被篡改过</text></switch></g><path d="M 666.26 4330 L 835.01 4330 L 835.01 4410 L 713.26 4410 L 666.26 4440 L 693.26 4410 L 666.26 4410 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 167px; height: 1px; padding-top: 4369px; margin-left: 667px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝使用的是最大努力通知方案，保障数据一致性，隔一段时间会通知商户支付成功，直到返回success</div></div></div></foreignObject><text x="751" y="4373" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝使用的是最大努力通知方案，保障数据一致性，隔一段时间会通知商户支付成功，直到返回success</text></switch></g><rect x="694.02" y="4505" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4535px; margin-left: 695px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回"fail"</div></div></div></foreignObject><text x="754" y="4539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回"fail"</text></switch></g><path d="M 584.82 4670 L 584.82 4703.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.82 4708.88 L 581.32 4701.88 L 584.82 4703.63 L 588.32 4701.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.82" y="4610" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4640px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">保存交易流水</div></div></div></foreignObject><text x="585" y="4644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保存交易流水</text></switch></g><rect x="524.82" y="4710" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4740px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单的状态更新为已付款</div></div></div></foreignObject><text x="585" y="4744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单的状态更新为已付款</text></switch></g><path d="M 400.22 4480 L 400.14 4535.14 L 510.51 4535.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 515.76 4535 L 508.77 4538.51 L 510.51 4535.01 L 508.76 4531.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="328.69" y="4400" width="143.06" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 141px; height: 1px; padding-top: 4440px; margin-left: 330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每天晚上定时下载支付宝对账有问题的账单，比如支付成功后异步通知迟迟不来的</div></div></div></foreignObject><text x="400" y="4444" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每天晚上定时下载支付宝对账有问题的账单，比如支付成功后异步通知迟迟不来的</text></switch></g><path d="M 380.22 4342 L 405.22 4342 L 405.22 4330 L 420.22 4360 L 405.22 4390 L 405.22 4378 L 380.22 4378 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,400.22,4360)" pointer-events="all"/><path d="M 328.69 760 L 323.69 760 Q 318.69 760 318.69 770 L 318.69 1115 Q 318.69 1125 313.69 1125 L 311.19 1125 Q 308.69 1125 313.69 1125 L 316.19 1125 Q 318.69 1125 318.69 1135 L 318.69 1480 Q 318.69 1490 323.69 1490 L 328.69 1490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="168.69" y="1095" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 1125px; margin-left: 170px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">下订单</div></div></div></foreignObject><text x="236" y="1129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">下订单</text></switch></g><path d="M 210 1765 L 205 1765 Q 200 1765 200 1775 L 200 2022.5 Q 200 2032.5 195 2032.5 L 192.5 2032.5 Q 190 2032.5 195 2032.5 L 197.5 2032.5 Q 200 2032.5 200 2042.5 L 200 2290 Q 200 2300 205 2300 L 210 2300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="40" y="2002.5" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 2033px; margin-left: 41px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存</div></div></div></foreignObject><text x="108" y="2036" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存</text></switch></g><path d="M 210 2315 L 205 2315 Q 200 2315 200 2325 L 200 2927.5 Q 200 2937.5 195 2937.5 L 192.5 2937.5 Q 190 2937.5 195 2937.5 L 197.5 2937.5 Q 200 2937.5 200 2947.5 L 200 3550 Q 200 3560 205 3560 L 210 3560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="2907.5" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 2938px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分布式事务方案<br />柔性事务 - 可靠消息+最终一致性</div></div></div></foreignObject><text x="68" y="2941" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分布式事务方案&#xa;柔性事务 - 可靠消息+最终一致性</text></switch></g><path d="M 210 3572.5 L 205 3572.5 Q 200 3572.5 200 3582.5 L 200 3926.25 Q 200 3936.25 195 3936.25 L 192.5 3936.25 Q 190 3936.25 195 3936.25 L 197.5 3936.25 Q 200 3936.25 200 3946.25 L 200 4290 Q 200 4300 205 4300 L 210 4300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="3906.25" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 3936px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付 + 返回订单列表页的数据</div></div></div></foreignObject><text x="78" y="3940" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付 + 返回订单列表页的数据</text></switch></g><path d="M 207.5 4330 L 202.5 4330 Q 197.5 4330 197.5 4340 L 197.5 4535 Q 197.5 4545 192.5 4545 L 190 4545 Q 187.5 4545 192.5 4545 L 195 4545 Q 197.5 4545 197.5 4555 L 197.5 4750 Q 197.5 4760 202.5 4760 L 207.5 4760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="4520" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 4550px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝异步通知处理<br />最大努力通知型方案</div></div></div></foreignObject><text x="78" y="4554" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝异步通知处理&#xa;最大努力通知型方案</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>