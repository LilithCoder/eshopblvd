<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1774px" height="4771px" viewBox="-0.5 -0.5 1774 4771" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-27T17:56:04.522Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;-sd-B6vubc7XAOsFXzA5&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;4aRmwtn3LgudHCLCKFT1&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 592.5 190 L 592.5 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 208.88 L 589 201.88 L 592.5 203.63 L 596 201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.5 190 L 592.5 210 L 592.5 190 L 592.5 203.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 208.88 L 589 201.88 L 592.5 203.63 L 596 201.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="525" y="130" width="135" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 160px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">请求订单确认页的数据，入参为地址id<br /></span></div></div></div></foreignObject><text x="593" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">请求订单确认页的数据，入参为地址id&#xa;</text></switch></g><path d="M 470 0 L 465 0 Q 460 0 460 10 L 460 355 Q 460 365 455 365 L 452.5 365 Q 450 365 455 365 L 457.5 365 Q 460 365 460 375 L 460 720 Q 460 730 465 730 L 470 730" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="335" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 365px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">生成订单确认页的信息</div></div></div></foreignObject><text x="378" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生成订单确认页的信息</text></switch></g><path d="M 592.5 110 L 592.5 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 128.88 L 589 121.88 L 592.5 123.63 L 596 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="520" y="50" width="145" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 143px; height: 1px; padding-top: 80px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">购物车页点击「去结算」<br /></span></div></div></div></foreignObject><text x="593" y="84" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车页点击「去结算」&#xa;</text></switch></g><path d="M 675 250 L 743.63 250" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 748.88 250 L 741.88 253.5 L 743.63 250 L 741.88 246.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 250px; margin-left: 713px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="713" y="253" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.5 290 L 592.5 343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 348.88 L 589 341.88 L 592.5 343.63 L 596 341.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 320px; margin-left: 593px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="593" y="323" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 592.5 210 L 675 250 L 592.5 290 L 510 250 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 250px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="font-family: &quot;helvetica&quot;">拦截器从session获取登陆用户<br />判断是否登陆<br /></span></div></div></div></foreignObject><text x="593" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器从session获取登陆用户...</text></switch></g><rect x="750" y="220" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 250px; margin-left: 751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">跳转去登陆页</div></div></div></foreignObject><text x="810" y="254" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">跳转去登陆页</text></switch></g><path d="M 652.5 380 L 746.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 380 L 744.38 383.5 L 746.13 380 L 744.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.5 380 L 702.5 380 L 702.5 530.5 L 746.13 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 530.5 L 744.38 534 L 746.13 530.5 L 744.38 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.5 380 L 702.5 380 L 702.5 700 L 746.13 700" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 751.38 700 L 744.38 703.5 L 746.13 700 L 744.38 696.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.5 410 L 592.5 433.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 438.38 L 589 431.38 L 592.5 433.13 L 596 431.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 380px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">准备RPC获取订单确认页需要的数据</div></div></div></foreignObject><text x="593" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">准备RPC获取订单确认页需要的数据</text></switch></g><path d="M 882.5 380 L 903.66 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 908.91 380 L 901.91 383.5 L 903.66 380 L 901.91 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="752.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前登录用户的全部地址列表用户选择</div></div></div></foreignObject><text x="818" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前登录用户的全部地址列表用户选择</text></switch></g><path d="M 1060.03 380 L 1086.13 380" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1091.38 380 L 1084.38 383.5 L 1086.13 380 L 1084.38 376.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="910.03" y="350" width="150" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 148px; height: 1px; padding-top: 380px; margin-left: 911px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</div></div></div></foreignObject><text x="985" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id，设置选中的收货地址，如果没有地址id，就设置为默认地址</text></switch></g><rect x="1092.5" y="350" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 380px; margin-left: 1094px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据选中的地址计算获取运费</div></div></div></foreignObject><text x="1158" y="384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据选中的地址计算获取运费</text></switch></g><path d="M 760 310 L 870 310 L 870 310 L 880 325 L 870 340 L 870 340 L 760 340 L 770 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 820px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务</div></div></div></foreignObject><text x="820" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务</text></switch></g><path d="M 1100 310 L 1200 310 L 1200 310 L 1210 325 L 1200 340 L 1200 340 L 1100 340 L 1110 325 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 325px; margin-left: 1155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="1155" y="329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 872.5 530.5 L 918.66 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 923.91 530.5 L 916.91 534 L 918.66 530.5 L 916.91 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="752.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">从redis里获取当前登录用户的购物项列表</div></div></div></foreignObject><text x="813" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">从redis里获取当前登录用户的购物项列表</text></switch></g><path d="M 760 460 L 860 460 L 860 460 L 870 475 L 860 490 L 860 490 L 760 490 L 770 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 815px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="815" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 1045.03 530.5 L 1086.13 530.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1091.38 530.5 L 1084.38 534 L 1086.13 530.5 L 1084.38 527 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="925.03" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 926px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的最新价格</div></div></div></foreignObject><text x="985" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的最新价格</text></switch></g><rect x="1092.5" y="500.5" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 531px; margin-left: 1094px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新每个购物项的库存情况</div></div></div></foreignObject><text x="1153" y="534" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新每个购物项的库存情况</text></switch></g><path d="M 1100 460 L 1200 460 L 1200 460 L 1210 475 L 1200 490 L 1200 490 L 1100 490 L 1110 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 1155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="1155" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 930 460 L 1035.03 460 L 1035.03 460 L 1045.03 475 L 1035.03 490 L 1035.03 490 L 930 490 L 940 475 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 475px; margin-left: 988px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="988" y="479" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="717.5" y="570" width="190" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 580px; margin-left: 813px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"eshopblvd:cart:"+userId</span></div></div></div></foreignObject><text x="813" y="584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">key为"eshopblvd:cart:"+userId</text></switch></g><rect x="752.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 754px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取优惠券、积分等信息</div></div></div></foreignObject><text x="813" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取优惠券、积分等信息</text></switch></g><path d="M 760 630 L 860 630 L 860 630 L 870 645 L 860 660 L 860 660 L 760 660 L 770 645 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 645px; margin-left: 815px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">优惠券服务</div></div></div></foreignObject><text x="815" y="649" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">优惠券服务</text></switch></g><path d="M 592.5 509.5 L 592.5 533.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 538.88 L 589 531.88 L 592.5 533.63 L 596 531.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="523.75" y="439.5" width="137.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 475px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</div></div></div></foreignObject><text x="593" y="478" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">自动计算商品sku数量、订单项总计价格、应付金额(减去积分、加上运费)</text></switch></g><path d="M 592.5 630 L 592.5 663.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 668.88 L 589 661.88 L 592.5 663.63 L 596 661.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="497.5" y="540" width="190" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 585px; margin-left: 499px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建一个防重令牌<br />防止重复订单提交，预先生成令牌<br />存入redis<br />key为<span style="background-color: rgb(255 , 255 , 255) ; font-size: 9.8pt">"order:token:"+用户id<br />value为随机值<br /></span></div></div></div></foreignObject><text x="593" y="589" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建一个防重令牌防止重复订单提交，预先生成令牌存入redis...</text></switch></g><rect x="532.5" y="670" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 700px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回这些数据等<br />渲染订单确认页</div></div></div></foreignObject><text x="593" y="704" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回这些数据等&#xa;渲染订单确认页</text></switch></g><path d="M 592.5 860 L 592.5 873.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 878.88 L 589 871.88 L 592.5 873.63 L 596 871.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="800" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 830px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单确认页点击<br />「提交订单」</div></div></div></foreignObject><text x="593" y="834" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单确认页点击&#xa;「提交订单」</text></switch></g><path d="M 642.5 1040 L 681.13 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 686.38 1040 L 679.38 1043.5 L 681.13 1040 L 679.38 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1040px; margin-left: 666px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="666" y="1043" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.5 1080 L 592.5 1113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 1118.88 L 589 1111.88 L 592.5 1113.63 L 596 1111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1100px; margin-left: 592px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="592" y="1103" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 592.5 1000 L 642.5 1040 L 592.5 1080 L 542.5 1040 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1040px; margin-left: 544px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">校验订单确认页带的防重令牌</div></div></div></foreignObject><text x="593" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">校验订单确认页带的防重令牌</text></switch></g><path d="M 592.5 980 L 592.5 993.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.5 998.88 L 589 991.88 L 592.5 993.63 L 596 991.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="533.75" y="880" width="117.5" height="100" rx="15" ry="15" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 930px; margin-left: 535px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">提交数据包括了<br />收货地址id<br />支付方式<br />应付价格<br />订单备注<br />防重令牌</div></div></div></foreignObject><text x="593" y="934" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">提交数据包括了收货地址id...</text></switch></g><path d="M 652.75 1273 L 682.8 1273 L 682.8 1203 L 706.38 1203" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 711.63 1203 L 704.63 1206.5 L 706.38 1203 L 704.63 1199.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.75 1273 L 682.8 1273 L 682.8 1343 L 706.38 1343" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 711.63 1343 L 704.63 1346.5 L 706.38 1343 L 704.63 1339.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.75 1303 L 592.8 1373 L 592.52 1436.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1441.88 L 589.03 1434.87 L 592.52 1436.63 L 596.03 1434.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.75" y="1243" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1273px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单数据</div></div></div></foreignObject><text x="593" y="1277" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单数据</text></switch></g><path d="M 592.49 1170 L 592.5 1206.5 L 592.71 1236.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.74 1241.88 L 589.19 1234.91 L 592.71 1236.63 L 596.19 1234.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="539.37" y="1120" width="106.25" height="50" rx="7.5" ry="7.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 104px; height: 1px; padding-top: 1145px; margin-left: 540px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">删除令牌</div></div></div></foreignObject><text x="592" y="1149" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">删除令牌</text></switch></g><path d="M 355 990 L 520 990 L 520 1070 L 500.5 1070 L 520 1100 L 470.5 1070 L 355 1070 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 1030px; margin-left: 356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>保证接口幂等性<br />利用redis luna脚本进行令牌验证+删除的原子性操作</span><br /><font style="font-size: 12px"><span>key为</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">"order:token:"+</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">用户</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica neue&quot;">id value</span><span class="s1" style="color: rgb(0 , 0 , 0) ; font-stretch: normal ; line-height: normal ; font-family: &quot;pingfang sc&quot;">为随机值</span></font></div></div></div></foreignObject><text x="438" y="1034" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保证接口幂等性利用redis luna脚本进行令牌验证+删除的原子性操作...</text></switch></g><path d="M 542.5 0 L 632.5 0 L 632.5 0 L 642.5 15 L 632.5 30 L 632.5 30 L 542.5 30 L 552.5 15 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 593px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="593" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><rect x="712.75" y="1163" width="152.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 151px; height: 1px; padding-top: 1203px; margin-left: 714px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单的基本数据<br />订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</div></div></div></foreignObject><text x="789" y="1207" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单的基本数据&#xa;订单号、创建时间、用户id、订单状态（新建）、自动确认时间、订单备注等</text></switch></g><rect x="712.75" y="1313" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1343px; margin-left: 714px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据地址id获取收货地址信息、根据选中收货地址来计算运费</div></div></div></foreignObject><text x="773" y="1347" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据地址id获取收货地址信息、根据选中收货地址来计算运费</text></switch></g><path d="M 722.75 1273 L 812.75 1273 L 812.75 1273 L 822.75 1288 L 812.75 1303 L 812.75 1303 L 722.75 1303 L 732.75 1288 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 773px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="773" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 542.49 760 L 632.49 760 L 632.49 760 L 642.49 775 L 632.49 790 L 632.49 790 L 542.49 790 L 552.49 775 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 775px; margin-left: 592px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务<br />（本地事务）</div></div></div></foreignObject><text x="592" y="779" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务&#xa;（本地事务）</text></switch></g><path d="M 652.49 1473 L 703.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1473 L 702.13 1476.5 L 703.88 1473 L 702.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.49 1473 L 681.4 1473 L 681.4 1593 L 703.88 1593" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1593 L 702.13 1596.5 L 703.88 1593 L 702.13 1589.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 652.49 1473 L 681.4 1473 L 681.4 1710 L 703.88 1710" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.13 1710 L 702.13 1713.5 L 703.88 1710 L 702.13 1706.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.49 1503 L 592.49 1628.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1633.88 L 588.99 1626.88 L 592.49 1628.63 L 595.99 1626.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.49" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 533px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构建订单项数据</div></div></div></foreignObject><text x="592" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构建订单项数据</text></switch></g><path d="M 830.25 1473 L 883.88 1473" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 889.13 1473 L 882.13 1476.5 L 883.88 1473 L 882.13 1469.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="710.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取当前用户购物车中的购物项列表<br />封装成订单项列表</div></div></div></foreignObject><text x="770" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取当前用户购物车中的购物项列表&#xa;封装成订单项列表</text></switch></g><rect x="890.25" y="1443" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1473px; margin-left: 891px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个购物项都更新了最新的价格和库存</div></div></div></foreignObject><text x="950" y="1477" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个购物项都更新了最新的价格和库存</text></switch></g><path d="M 900.25 1403 L 990.25 1403 L 990.25 1403 L 1000.25 1418 L 990.25 1433 L 990.25 1433 L 900.25 1433 L 910.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="950" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 900.25 1363 L 990.25 1363 L 990.25 1363 L 1000.25 1378 L 990.25 1393 L 990.25 1393 L 900.25 1393 L 910.25 1378 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="950" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="710.25" y="1563" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1593px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取每个订单项sku的spu信息</div></div></div></foreignObject><text x="770" y="1597" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取每个订单项sku的spu信息</text></switch></g><path d="M 720.25 1403 L 810.25 1403 L 810.25 1403 L 820.25 1418 L 810.25 1433 L 810.25 1433 L 720.25 1433 L 730.25 1418 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1418px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">购物车服务</div></div></div></foreignObject><text x="770" y="1422" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">购物车服务</text></switch></g><path d="M 720.25 1523 L 810.25 1523 L 810.25 1523 L 820.25 1538 L 810.25 1553 L 810.25 1553 L 720.25 1553 L 730.25 1538 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1538px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="770" y="1542" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><rect x="710.25" y="1680" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1710px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个订单项减去促销、优惠、积分后计算得到实际金额</div></div></div></foreignObject><text x="770" y="1714" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个订单项减去促销、优惠、积分后计算得到实际金额</text></switch></g><path d="M 592.49 1705 L 592.49 1743.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 592.49 1748.88 L 588.99 1741.88 L 592.49 1743.63 L 595.99 1741.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="518.74" y="1635" width="147.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 146px; height: 1px; padding-top: 1670px; margin-left: 520px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">减去每个订单项促销、优惠、积分信息，加上运费<br />得到最后整个订单应付价格</div></div></div></foreignObject><text x="592" y="1674" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">减去每个订单项促销、优惠、积分信息，加上运费&#xa;得到最后整个订单应付价格</text></switch></g><path d="M 681.24 1795 L 724.01 1795" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 729.26 1795 L 722.26 1798.5 L 724.01 1795 L 722.26 1791.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1796px; margin-left: 698px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="698" y="1799" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 592.49 1840 L 591.3 1840 L 591.26 1863.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 1868.88 L 587.76 1861.88 L 591.26 1863.63 L 594.76 1861.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 592.49 1750 L 681.24 1795 L 592.49 1840 L 503.74 1795 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 176px; height: 1px; padding-top: 1795px; margin-left: 505px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价<br />计算得到最新的应付价格和提交订单的应付价格差值小于0.01</div></div></div></foreignObject><text x="592" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价&#xa;计算得到最新的应付价格和提交订单的应付价格差值小于0.01</text></switch></g><path d="M 591.25 1950 L 591.25 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2018.88 L 587.75 2011.88 L 591.25 2013.63 L 594.75 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="532.5" y="1870" width="117.5" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 116px; height: 1px; padding-top: 1910px; margin-left: 534px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><p class="p1" style="margin: 0px ; font-stretch: normal ; line-height: normal"><font style="font-size: 12px">将订单和订单项数据保存数据库<br />「oms_order」<br />「oms_order_item」<br /></font></p></div></div></div></foreignObject><text x="591" y="1914" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">将订单和订单项数据保存数据库「oms_order」...</text></switch></g><path d="M 651.25 2050 L 716.51 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 721.76 2050 L 714.76 2053.5 L 716.51 2050 L 714.76 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 591.25 2080 L 591.3 2100 L 591.43 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.48 2118.88 L 587.92 2111.92 L 591.43 2113.63 L 594.92 2111.85 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存</div></div></div></foreignObject><text x="591" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存</text></switch></g><rect x="852.37" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 853px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">重定向到订单确认页</div></div></div></foreignObject><text x="912" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">重定向到订单确认页</text></switch></g><path d="M 807.5 1040 L 846 1040" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 851.25 1040 L 844.25 1043.5 L 846 1040 L 844.25 1036.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="687.5" y="1010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1040px; margin-left: 689px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">令牌验证失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="748" y="1044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">令牌验证失败，抛异常，本地事务回滚</text></switch></g><path d="M 870.13 1795 L 890.2 1795 L 885.3 1795 L 898.91 1795" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 904.16 1795 L 897.16 1798.5 L 898.91 1795 L 897.16 1791.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="730.38" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 731px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验价失败，抛异常，本地事务回滚</div></div></div></foreignObject><text x="800" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验价失败，抛异常，本地事务回滚</text></switch></g><rect x="905.28" y="1765" width="139.75" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 1795px; margin-left: 906px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单应付价格发生变化<br />重定向到订单确认页</div></div></div></foreignObject><text x="975" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单应付价格发生变化&#xa;重定向到订单确认页</text></switch></g><path d="M 870.13 2050 L 908.79 2050" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 914.04 2050 L 907.04 2053.5 L 908.79 2050 L 907.04 2046.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="722.88" y="2020" width="147.25" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 145px; height: 1px; padding-top: 2050px; margin-left: 724px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">保存库存工作单<br />「wms_ware_order_task」<br />主要用来通过订单号<br />来查询映射的工作单id</div></div></div></foreignObject><text x="797" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保存库存工作单「wms_ware_order_task」...</text></switch></g><path d="M 790 1846 L 984.97 1846 L 984.97 1946 L 907.49 1946 L 887.49 1976 L 887.49 1946 L 790 1946 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 193px; height: 1px; padding-top: 1896px; margin-left: 791px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</div></div></div></foreignObject><text x="887" y="1900" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">因为可能出现订单回滚后，库存锁定不回滚的情况，但订单已经回滚，得不到库存锁定信息，因此要有库存工作单以及库存工作单详情，其中包括订单信息和锁定库存时的信息(仓库id，商品id，锁了几件...)</text></switch></g><path d="M 1245 2220 L 1245 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2248.88 L 1241.5 2241.88 L 1245 2243.63 L 1248.5 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1150" y="2140" width="190" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 2180px; margin-left: 1151px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁成功后，保存库存工作单详情<br />「wms_ware_order_task_detail」<br />保存skuId、商品数量、仓库id、工作单id、锁定状态</div></div></div></foreignObject><text x="1245" y="2184" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁成功后，保存库存工作单详情「wms_ware_order_task_detail」...</text></switch></g><path d="M 975.16 2080 L 975.16 2113.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 975.16 2118.88 L 971.66 2111.88 L 975.16 2113.63 L 978.66 2111.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="915.16" y="2020" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2050px; margin-left: 916px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对于每个订单项尝试锁库存</div></div></div></foreignObject><text x="975" y="2054" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对于每个订单项尝试锁库存</text></switch></g><path d="M 1245 1980 L 1245 2013.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2018.88 L 1241.5 2011.88 L 1245 2013.63 L 1248.5 2011.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1176.25" y="1920" width="137.5" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 1950px; margin-left: 1177px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">找到该商品sku最近的且有足够库存的仓库<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span><span>」</span></div></div></div></foreignObject><text x="1245" y="1954" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">找到该商品sku最近的且有足够库存的仓库...</text></switch></g><path d="M 730 1980 L 1020 1980 L 1020 1980 L 1030 1995 L 1020 2010 L 1020 2010 L 730 2010 L 740 1995 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1995px; margin-left: 880px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">库存服务</div></div></div></foreignObject><text x="880" y="1999" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务</text></switch></g><path d="M 1245 2090 L 1245 2133.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245 2138.88 L 1241.5 2131.88 L 1245 2133.63 L 1248.5 2131.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1151.25" y="2020" width="187.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 186px; height: 1px; padding-top: 2055px; margin-left: 1152px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">真正锁库存<br />找到这个仓库的这个sku商品<br />给其stock_locked字段加上sku数量<br />「<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">wms_ware_sku</span>」</div></div></div></foreignObject><text x="1245" y="2059" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">真正锁库存找到这个仓库的这个sku商品...</text></switch></g><path d="M 1050 2034 L 1100 2034 L 1100 2025 L 1120 2050 L 1100 2075 L 1100 2066 L 1050 2066 L 1050 2050 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="all"/><path d="M 1245 2310 L 1245 2344 L 1245.62 2371.63" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245.74 2376.88 L 1242.08 2369.96 L 1245.62 2371.63 L 1249.08 2369.81 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2344px; margin-left: 1245px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="1245" y="2347" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><rect x="1185" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 1186px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="1245" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><path d="M 695 1640 L 835 1640 L 835 1640 L 845 1655 L 835 1670 L 835 1670 L 695 1670 L 705 1655 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1655px; margin-left: 770px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">会员服务、优惠券服务</div></div></div></foreignObject><text x="770" y="1659" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">会员服务、优惠券服务</text></switch></g><path d="M 1290.76 2408 L 1380.8 2408 L 1380.8 2548 L 1367.13 2548" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1361.88 2548 L 1368.88 2544.5 L 1367.13 2548 L 1368.88 2551.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2442px; margin-left: 1380px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.locked</div></div></div></foreignObject><text x="1380" y="2446" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.locked</text></switch></g><path d="M 1201.3 2429.48 L 1081 2429.5 L 1081 2628 L 1134.39 2628" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.64 2628 L 1132.64 2631.5 L 1134.39 2628 L 1132.64 2624.5 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2550px; margin-left: 1082px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release.#</div></div></div></foreignObject><text x="1082" y="2553" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release.#</text></switch></g><path d="M 1200.76 2408 L 1020 2408 L 1020 2648 L 1134.39 2648" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1139.64 2648 L 1132.64 2651.5 L 1134.39 2648 L 1132.64 2644.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2515px; margin-left: 1022px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other.#</div></div></div></foreignObject><text x="1022" y="2518" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other.#</text></switch></g><path d="M 1209.03 2378 L 1282.49 2378 C 1287.06 2378 1290.76 2391.43 1290.76 2408 C 1290.76 2424.57 1287.06 2438 1282.49 2438 L 1209.03 2438 C 1204.46 2438 1200.76 2424.57 1200.76 2408 C 1200.76 2391.43 1204.46 2378 1209.03 2378 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 1282.49 2378 C 1277.93 2378 1274.23 2391.43 1274.23 2408 C 1274.23 2424.57 1277.93 2438 1282.49 2438" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2408px; margin-left: 1202px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="1246" y="2412" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock-...</text></switch></g><ellipse cx="1135" cy="2348" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="1135" cy="2348" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2348px; margin-left: 1090px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="1135" y="2352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 1140.76 2548 L 1120.8 2548 L 1120.8 2483 L 1245.8 2483 L 1245.77 2444.37" fill="none" stroke="#b85450" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1245.76 2439.12 L 1249.27 2446.11 L 1245.77 2444.37 L 1242.27 2446.12 Z" fill="#b85450" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2485px; margin-left: 1178px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">stock.release</div></div></div></foreignObject><text x="1178" y="2488" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">stock.release</text></switch></g><rect x="1140.76" y="2528" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="1142.76" y="2530" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2548px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.delay.queue<br />延时队列，50min后解锁库存</div></div></div></foreignObject><text x="1251" y="2552" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.delay.queue...</text></switch></g><rect x="1140.76" y="2618" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="1142.76" y="2620" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2638px; margin-left: 1144px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">stock.release.stock.queue<br />库存解锁队列</div></div></div></foreignObject><text x="1251" y="2642" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">stock.release.stock.queue...</text></switch></g><path d="M 1250.76 2768 L 1250.8 2798 L 1435 2798 L 1435.01 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.01 2826.88 L 1431.51 2819.88 L 1435.01 2821.63 L 1438.51 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1250.76 2768 L 1250.8 2798 L 982.1 2798 L 982.12 2821.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 2826.88 L 978.61 2819.88 L 982.12 2821.63 L 985.61 2819.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1190.76" y="2708" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2738px; margin-left: 1192px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听库存解锁队列<br />解锁库存</div></div></div></foreignObject><text x="1251" y="2742" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听库存解锁队列解锁库存...</text></switch></g><path d="M 1235.76 2666.71 L 1253.47 2666.71 L 1253.47 2653 L 1265.76 2683 L 1253.47 2713 L 1253.47 2699.29 L 1235.76 2699.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,1250.76,2683)" pointer-events="all"/><path d="M 1435.01 2888 L 1435.01 2951.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.01 2956.88 L 1431.51 2949.88 L 1435.01 2951.63 L 1438.51 2949.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1375.01" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 1376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">收到50min后自动解锁库存的消息</div></div></div></foreignObject><text x="1435" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">收到50min后自动解锁库存的消息</text></switch></g><path d="M 982.12 2888 L 982.12 2978.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 2983.88 L 978.62 2976.88 L 982.12 2978.63 L 985.62 2976.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="922.12" y="2828" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2858px; margin-left: 923px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单关闭收到解锁库存的消息</div></div></div></foreignObject><text x="982" y="2862" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单关闭收到解锁库存的消息</text></switch></g><path d="M 1435.83 3520 L 1435.83 3541.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.83 3546.88 L 1432.33 3539.88 L 1435.83 3541.63 L 1439.33 3539.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1344.99" y="3440" width="181.68" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 180px; height: 1px; padding-top: 3480px; margin-left: 1346px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">对这个工作单详情进行库存解锁<br />1. 「wms_ware_sku」的stock_locked减去商品数量<br />2. 库存工作单详情的lock_status更新为已解锁</div></div></div></foreignObject><text x="1436" y="3484" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">对这个工作单详情进行库存解锁1. 「wms_ware_sku」的stock_locked减去商品数量...</text></switch></g><path d="M 1435.3 3398 L 1435.3 3419 L 1435.67 3433.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.8 3438.88 L 1432.13 3431.97 L 1435.67 3433.63 L 1439.12 3431.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1376.67 3353 L 1344.26 3353" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1339.01 3353 L 1346.01 3349.5 L 1344.26 3353 L 1346.01 3356.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.3 3308 L 1493.92 3353 L 1435.3 3398 L 1376.67 3353 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 115px; height: 1px; padding-top: 3353px; margin-left: 1378px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">没有订单或订单的状态为已关闭</div></div></div></foreignObject><text x="1435" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有订单或订单的状态为已关闭</text></switch></g><ellipse cx="1375" cy="2928" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="1375" cy="2928" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 1330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存工作单id<br />库存工作单详情</div></div></div></foreignObject><text x="1375" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存工作单id...</text></switch></g><path d="M 1240.82 3108 L 1330.82 3108 L 1330.82 3108 L 1340.82 3123 L 1330.82 3138 L 1330.82 3138 L 1240.82 3138 L 1250.82 3123 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3123px; margin-left: 1291px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="1291" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 1435.82 3158 L 1435.8 3178 L 1435.45 3191.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.32 3196.88 L 1432 3189.8 L 1435.45 3191.63 L 1439 3189.97 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1350.89" y="3088" width="169.87" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 3123px; margin-left: 1352px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询工作单id对应的订单号<br />「wms_ware_order」<br />根据订单号来获取订单的状态</div></div></div></foreignObject><text x="1436" y="3127" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询工作单id对应的订单号...</text></switch></g><path d="M 1348.76 3003 L 1293.62 3003" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1288.37 3003 L 1295.37 2999.5 L 1293.62 3003 L 1295.37 3006.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3004px; margin-left: 1320px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="1320" y="3007" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 1435.01 3048 L 1435 3068 L 1435.56 3081.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.78 3086.88 L 1431.99 3080.03 L 1435.56 3081.64 L 1438.99 3079.74 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3065px; margin-left: 1437px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="1437" y="3068" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 1435.01 2958 L 1521.26 3003 L 1435.01 3048 L 1348.76 3003 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 171px; height: 1px; padding-top: 3003px; margin-left: 1350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态</span><br /><span>「wms_ware_order_task_detail」<br /></span></div></div></div></foreignObject><text x="1435" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询这个工作单详情是否还存在且其最新锁定情况是否为锁定状态「wms_ware_order_task_detail」...</text></switch></g><rect x="1130" y="2940.5" width="157.25" height="125" rx="18.75" ry="18.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 155px; height: 1px; padding-top: 3003px; margin-left: 1131px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交<br />（2）工作单详情不是锁定状态，订单取消后已经率先一步解锁库存了，所以就是无需解锁</div></div></div></foreignObject><text x="1209" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有库存工作单详情，说明当时远程库存服务锁库存没有事务提交...</text></switch></g><path d="M 1395.29 3238 L 1340.63 3238" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1335.38 3238 L 1342.38 3234.5 L 1340.63 3238 L 1342.38 3241.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.29 3278 L 1435.29 3301.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1435.29 3306.88 L 1431.79 3299.88 L 1435.29 3301.63 L 1438.79 3299.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1435.29 3198 L 1475.29 3238 L 1435.29 3278 L 1395.29 3238 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 3238px; margin-left: 1396px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>查询是否成功</span></div></div></div></foreignObject><text x="1435" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询是否成功</text></switch></g><rect x="1214.26" y="3208" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3238px; margin-left: 1215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，拒绝收到的消息，重新放回库存解锁队列</div></div></div></foreignObject><text x="1274" y="3242" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，拒绝收到的消息，重新放回库存解锁队列</text></switch></g><rect x="1217.89" y="3323" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3353px; margin-left: 1219px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单还在，且不是关闭状态，那么就不需要解锁库存</div></div></div></foreignObject><text x="1278" y="3357" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单还在，且不是关闭状态，那么就不需要解锁库存</text></switch></g><rect x="1375.83" y="3548" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3578px; margin-left: 1377px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">给库存解锁队列返回消息确认ack</div></div></div></foreignObject><text x="1436" y="3582" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">给库存解锁队列返回消息确认ack</text></switch></g><path d="M 1507.51 3300 L 1772.51 3300 L 1772.51 3418 L 1567.26 3418 L 1536.66 3440 L 1547.26 3418 L 1507.51 3418 Z" fill="#ffff88" stroke="#36393d" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 263px; height: 1px; padding-top: 3359px; margin-left: 1509px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存<br />（2）订单的状态为已关闭，说明订单已经关闭，需要解锁库存</div></div></div></foreignObject><text x="1640" y="3363" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1）没有订单：在订单服务提交订单时，成功远程锁定库存后的其他逻辑抛异常，导致订单服务本地事务回滚了，保存在数据库的订单也回滚了，需要解锁库存...</text></switch></g><rect x="915.16" y="2120" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2150px; margin-left: 916px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>如果有任何一个订单项没有锁定成功，回滚当前库存事务</span></div></div></div></foreignObject><text x="975" y="2154" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有任何一个订单项没有锁定成功，回滚当前库存事务</text></switch></g><path d="M 542.12 2160 L 481.37 2160" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 476.12 2160 L 483.12 2156.5 L 481.37 2160 L 483.12 2163.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2163px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="511" y="2166" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 591.49 2200 L 591.49 2243.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 2248.88 L 587.99 2241.88 L 591.49 2243.63 L 594.99 2241.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2225px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="591" y="2228" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 591.49 2120 L 640.87 2160 L 591.49 2200 L 542.12 2160 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 97px; height: 1px; padding-top: 2160px; margin-left: 543px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存是否成功</div></div></div></foreignObject><text x="591" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存是否成功</text></switch></g><rect x="355" y="2130" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2160px; margin-left: 356px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">抛异常，事务回滚<br />库存不足</div></div></div></foreignObject><text x="415" y="2164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">抛异常，事务回滚&#xa;库存不足</text></switch></g><path d="M 591.49 2310 L 591.5 2330 L 591.33 2343.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.26 2348.88 L 587.85 2341.84 L 591.33 2343.63 L 594.85 2341.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="2250" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2280px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单创建成功</div></div></div></foreignObject><text x="591" y="2284" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单创建成功</text></switch></g><path d="M 591.25 2410 L 591.25 2461.63" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2466.88 L 587.75 2459.88 L 591.25 2461.63 L 594.75 2459.88 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2435px; margin-left: 593px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="593" y="2438" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><path d="M 531.49 2280 L 250 2280 L 250 3560 L 517.51 3560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 522.76 3560 L 515.76 3563.5 L 517.51 3560 L 515.76 3556.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2350" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2380px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给订单交换机</div></div></div></foreignObject><text x="591" y="2384" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给订单交换机</text></switch></g><ellipse cx="696.14" cy="2438" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="696.14" cy="2438" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2438px; margin-left: 651px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="696" y="2442" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 636.25 2498 L 722.8 2498 L 722.8 2598 L 709.12 2598" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 703.87 2598 L 710.87 2594.5 L 709.12 2598 L 710.87 2601.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2549px; margin-left: 723px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.create.order</div></div></div></foreignObject><text x="723" y="2552" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.create.order</text></switch></g><path d="M 546.25 2498 L 410 2498 L 410 2678 L 481 2678 L 476.38 2678" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 481.63 2678 L 474.63 2681.5 L 476.38 2678 L 474.63 2674.5 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2603px; margin-left: 409px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="409" y="2607" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><path d="M 554.52 2468 L 627.98 2468 C 632.55 2468 636.25 2481.43 636.25 2498 C 636.25 2514.57 632.55 2528 627.98 2528 L 554.52 2528 C 549.95 2528 546.25 2514.57 546.25 2498 C 546.25 2481.43 549.95 2468 554.52 2468 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 627.98 2468 C 623.42 2468 619.72 2481.43 619.72 2498 C 619.72 2514.57 623.42 2528 627.98 2528" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 2498px; margin-left: 547px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="591" y="2502" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order-...</text></switch></g><path d="M 482.75 2598 L 462.8 2598 L 462.8 2553 L 591.3 2553 L 591.26 2534.37" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2529.12 L 594.77 2536.11 L 591.26 2534.37 L 587.77 2536.12 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2553px; margin-left: 524px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.order</div></div></div></foreignObject><text x="524" y="2556" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.order</text></switch></g><rect x="482.75" y="2578" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="484.75" y="2580" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2598px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.delay.queue<br />延时队列，30min后开始关闭订单</div></div></div></foreignObject><text x="593" y="2602" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.delay.queue...</text></switch></g><rect x="482.75" y="2658" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="484.75" y="2660" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 2678px; margin-left: 486px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.release.order.queue<br />订单释放队列</div></div></div></foreignObject><text x="593" y="2682" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.release.order.queue...</text></switch></g><path d="M 576.25 2706.71 L 593.96 2706.71 L 593.96 2693 L 606.25 2723 L 593.96 2753 L 593.96 2739.29 L 576.25 2739.29 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,591.25,2723)" pointer-events="all"/><path d="M 591.49 2810 L 591.5 2830 L 591.33 2843.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.27 2848.88 L 587.85 2841.84 L 591.33 2843.63 L 594.85 2841.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="2750" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2780px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">消费者<br />监听订单释放队列<br />准备关闭过期订单</div></div></div></foreignObject><text x="591" y="2784" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费者监听订单释放队列准备关闭过期订单...</text></switch></g><path d="M 511.88 2890 L 456.37 2890" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 451.12 2890 L 458.12 2886.5 L 456.37 2890 L 458.12 2893.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2890px; margin-left: 481px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">否</div></div></div></foreignObject><text x="481" y="2893" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">否</text></switch></g><path d="M 591.26 2930 L 591.25 2966.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.25 2971.88 L 587.75 2964.88 L 591.25 2966.63 L 594.75 2964.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2952px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">是</div></div></div></foreignObject><text x="591" y="2955" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">是</text></switch></g><path d="M 591.26 2850 L 670.63 2890 L 591.26 2930 L 511.88 2890 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 157px; height: 1px; padding-top: 2890px; margin-left: 513px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">查询该订单的最新状态是不是还是新建待付款？</div></div></div></foreignObject><text x="591" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">查询该订单的最新状态是不是还是新建待付款？</text></switch></g><ellipse cx="680.38" cy="2840" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="680.38" cy="2840" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2840px; margin-left: 635px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="680" y="2844" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><rect x="330" y="2860" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2890px; margin-left: 331px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">无需关订单<br />消息确认ack</div></div></div></foreignObject><text x="390" y="2894" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">无需关订单&#xa;消息确认ack</text></switch></g><path d="M 591.25 3033 L 591.45 3063.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.48 3068.88 L 587.94 3061.9 L 591.45 3063.63 L 594.94 3061.86 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.25" y="2973" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3003px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">更新订单的状态为已取消<br />「oms_order」</div></div></div></foreignObject><text x="591" y="3007" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">更新订单的状态为已取消&#xa;「oms_order」</text></switch></g><path d="M 651.49 3100 L 790 3100 L 790 2392.9 L 1193.94 2392.88" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1199.19 2392.88 L 1192.19 2396.38 L 1193.94 2392.88 L 1192.19 2389.38 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2668px; margin-left: 791px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.release.other</div></div></div></foreignObject><text x="791" y="2671" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.release.other</text></switch></g><path d="M 591.49 3130 L 591.49 3163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 3168.88 L 587.99 3161.88 L 591.49 3163.63 L 594.99 3161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="531.49" y="3070" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3100px; margin-left: 532px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发消息给库存交换机<br />准备解锁库存</div></div></div></foreignObject><text x="591" y="3104" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发消息给库存交换机&#xa;准备解锁库存</text></switch></g><ellipse cx="702.75" cy="3058" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="702.75" cy="3058" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 3058px; margin-left: 658px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="703" y="3062" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><ellipse cx="902.37" cy="2928" rx="50" ry="30" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><ellipse cx="902.37" cy="2928" rx="46" ry="26" fill="none" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 90px; height: 1px; padding-top: 2928px; margin-left: 857px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单</div></div></div></foreignObject><text x="902" y="2932" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单</text></switch></g><path d="M 591.49 3250 L 591.49 3283.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 591.49 3288.88 L 587.99 3281.88 L 591.49 3283.63 L 594.99 3281.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 591.49 3170 L 646.3 3210 L 591.49 3250 L 536.68 3210 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 3210px; margin-left: 538px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">解锁库存的消息是否成功发送</div></div></div></foreignObject><text x="591" y="3214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">解锁库存的消息是否成功发送</text></switch></g><path d="M 982.12 3070 L 982.12 3123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 982.12 3128.88 L 978.62 3121.88 L 982.12 3123.63 L 985.62 3121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="881.21" y="2985" width="201.82" height="85" rx="12.75" ry="12.75" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 200px; height: 1px; padding-top: 3028px; margin-left: 882px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存<br />「wms_ware_order」<br />「wms_ware_order_task_detail」</div></div></div></foreignObject><text x="982" y="3031" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">根据订单号查一下和这个订单相关联的、待解锁的库存工作单详情，防止重复解锁库存「wms_ware_order」...</text></switch></g><path d="M 924.7 3170 L 876.5 3170" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 871.25 3170 L 878.25 3166.5 L 876.5 3170 L 878.25 3173.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3170px; margin-left: 898px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">无</div></div></div></foreignObject><text x="898" y="3173" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">无</text></switch></g><path d="M 982.12 3210 L 982.1 3480 L 1338.62 3480" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1343.87 3480 L 1336.87 3483.5 L 1338.62 3480 L 1336.87 3476.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 982.12 3130 L 1039.54 3170 L 982.12 3210 L 924.7 3170 Z" fill="#f8cecc" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 113px; height: 1px; padding-top: 3170px; margin-left: 926px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果有这样的库存工作单详情</div></div></div></foreignObject><text x="982" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果有这样的库存工作单详情</text></switch></g><rect x="750.13" y="3140" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3170px; margin-left: 751px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>没有库存需要解锁<br />消息确认ack</span></div></div></div></foreignObject><text x="810" y="3174" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">没有库存需要解锁&#xa;消息确认ack</text></switch></g><path d="M 308.99 2990 L 518.74 2990 L 518.74 3078 L 505.2 3078 L 518.74 3108 L 464.2 3078 L 308.99 3078 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 3034px; margin-left: 310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">发这一消息的原因<br />防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</div></div></div></foreignObject><text x="414" y="3038" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">发这一消息的原因&#xa;防止订单服务卡顿，导致订单状态消息一直改不了，库存消息50min后优先到期。查订单状态新建状态，什么都不做就走，导致卡顿的订单，永远不能解锁库存</text></switch></g><rect x="522.74" y="3290" width="137.51" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 136px; height: 1px; padding-top: 3325px; margin-left: 524px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">失败的消息存在数据库<br />定期扫描数据库将失败的消息进行重新发送</div></div></div></foreignObject><text x="591" y="3329" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">失败的消息存在数据库&#xa;定期扫描数据库将失败的消息进行重新发送</text></switch></g><path d="M 583.88 3590 L 583.9 3610 L 584.17 3623.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.28 3628.88 L 580.64 3621.95 L 584.17 3623.63 L 587.64 3621.81 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="523.88" y="3530" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3560px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单提交成功<br />来到支付选择页</div></div></div></foreignObject><text x="584" y="3564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单提交成功&#xa;来到支付选择页</text></switch></g><path d="M 584.25 3690 L 584.3 3710 L 584.1 3723.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.02 3728.88 L 580.62 3721.83 L 584.1 3723.63 L 587.62 3721.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.25" y="3630" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3660px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">点击「支付宝」支付<br />/order/payOrder<br />带上参数是订单号orderSn</div></div></div></foreignObject><text x="584" y="3664" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">点击「支付宝」支付/order/payOrder...</text></switch></g><path d="M 584 3800 L 584.66 3827.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.79 3832.88 L 581.12 3825.97 L 584.66 3827.63 L 588.12 3825.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 647.75 3765 L 704.13 3765" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 709.38 3765 L 702.38 3768.5 L 704.13 3765 L 702.38 3761.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="520.25" y="3730" width="127.5" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 126px; height: 1px; padding-top: 3765px; margin-left: 521px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">构造要给alipayTemplate的参数<br /></div></div></div></foreignObject><text x="584" y="3769" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">构造要给alipayTemplate的参数&#xa;</text></switch></g><rect x="710.5" y="3727.5" width="189.75" height="75" rx="11.25" ry="11.25" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 3765px; margin-left: 712px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span>商户订单号：out_trade_no</span><br /><span>订单名称：subject</span><br /><span>付款金额：total_amount</span><br /><span>body：商品描述</span></div></div></div></foreignObject><text x="805" y="3769" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商户订单号：out_trade_no...</text></switch></g><path d="M 758 3690 L 848 3690 L 848 3690 L 858 3705 L 848 3720 L 848 3720 L 758 3720 L 768 3705 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3705px; margin-left: 808px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="808" y="3709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 584.82 3974 L 584.8 3994 L 584.5 4003.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.33 4008.88 L 581.06 4001.78 L 584.5 4003.64 L 588.05 4002 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="471.75" y="3834" width="226.13" height="140" rx="21" ry="21" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 224px; height: 1px; padding-top: 3904px; margin-left: 473px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">调用alipayTemplate的pay方法<br /><br />根据预先的配置（应用id、商户私钥、支付宝公钥、成功同步通知路径、异步通知路径、签名方式、编码方式）<br /><br />设置有效支付时间为30min<br /><br />生成一个支付宝客户端</div></div></div></foreignObject><text x="585" y="3908" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">调用alipayTemplate的pay方法...</text></switch></g><path d="M 584.25 4070 L 584.25 4103.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.25 4108.88 L 580.75 4101.88 L 584.25 4103.63 L 587.75 4101.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.25" y="4010" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4040px; margin-left: 525px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建支付请求，发送</div></div></div></foreignObject><text x="584" y="4044" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建支付请求，发送</text></switch></g><path d="M 584.25 4200 L 584.3 4220.3 L 584.3 4234.13" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.3 4239.38 L 580.8 4232.38 L 584.3 4234.13 L 587.8 4232.38 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="479.25" y="4110" width="210" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 4155px; margin-left: 480px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝的响应，响应的是一个页面（text/html），只要浏览器显示这个页面，就会自动来到支付宝的收银台页面</div></div></div></foreignObject><text x="584" y="4159" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝的响应，响应的是一个页面（text/html），只要浏览器显示这个页面，就会自动来到支付宝的收银台页面</text></switch></g><path d="M 657.43 4270.5 L 701.38 4270.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 706.63 4270.5 L 699.63 4274 L 701.38 4270.5 L 699.63 4267 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="511.06" y="4240.5" width="146.37" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 144px; height: 1px; padding-top: 4271px; margin-left: 512px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">在30min内支付成功后，根据预先配置的同步通知地址来到订单列表页</div></div></div></foreignObject><text x="584" y="4274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">在30min内支付成功后，根据预先配置的同步通知地址来到订单列表页</text></switch></g><rect x="707.75" y="4223" width="190.13" height="95" rx="14.25" ry="14.25" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 4271px; margin-left: 709px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单列表页会根据登陆用户id来分页查询其关联的所有订单，并且每个订单里都封装所属的所有订单项<br />根据请求的数据渲染订单列表页</div></div></div></foreignObject><text x="803" y="4274" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单列表页会根据登陆用户id来分页查询其关联的所有订单，并且每个订单里都封装所属的所有订单项...</text></switch></g><path d="M 752.81 4180 L 842.81 4180 L 842.81 4180 L 852.81 4195 L 842.81 4210 L 842.81 4210 L 752.81 4210 L 762.81 4195 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 4195px; margin-left: 803px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="803" y="4199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 534.25 3490 L 624.25 3490 L 624.25 3490 L 634.25 3505 L 624.25 3520 L 624.25 3520 L 534.25 3520 L 544.25 3505 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3505px; margin-left: 584px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="584" y="3509" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><path d="M 584.82 4460 L 584.8 4480 L 584.17 4493.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 583.93 4498.88 L 580.76 4491.73 L 584.17 4493.64 L 587.75 4492.05 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.82" y="4400" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4430px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">处理支付宝支付成功异步通知</div></div></div></foreignObject><text x="585" y="4434" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">处理支付宝支付成功异步通知</text></switch></g><path d="M 564.62 4342 L 589.62 4342 L 589.62 4330 L 604.62 4360 L 589.62 4390 L 589.62 4378 L 564.62 4378 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,584.62,4360)" pointer-events="all"/><path d="M 650.88 4535 L 687.65 4535" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 692.9 4535 L 685.9 4538.5 L 687.65 4535 L 685.9 4531.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 583.88 4570 L 583.9 4590 L 584.53 4603.64" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.77 4608.88 L 580.95 4602.05 L 584.53 4603.64 L 587.94 4601.73 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="516.88" y="4500" width="134" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 132px; height: 1px; padding-top: 4535px; margin-left: 518px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证签名<br />请求中包含了明文和签名，通过签名来验证明文有没有被篡改过</div></div></div></foreignObject><text x="584" y="4539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证签名&#xa;请求中包含了明文和签名，通过签名来验证明文有没有被篡改过</text></switch></g><path d="M 666.26 4330 L 835.01 4330 L 835.01 4410 L 713.26 4410 L 666.26 4440 L 693.26 4410 L 666.26 4410 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 167px; height: 1px; padding-top: 4370px; margin-left: 667px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝使用的是最大努力通知方案，保障数据一致性，隔一段时间会通知商户支付成功，直到返回success</div></div></div></foreignObject><text x="751" y="4374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝使用的是最大努力通知方案，保障数据一致性，隔一段时间会通知商户支付成功，直到返回success</text></switch></g><rect x="694.02" y="4505" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4535px; margin-left: 695px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">返回"fail"</div></div></div></foreignObject><text x="754" y="4539" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">返回"fail"</text></switch></g><path d="M 584.82 4670 L 584.82 4703.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 584.82 4708.88 L 581.32 4701.88 L 584.82 4703.63 L 588.32 4701.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="524.82" y="4610" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4640px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">保存交易流水</div></div></div></foreignObject><text x="585" y="4644" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">保存交易流水</text></switch></g><rect x="524.82" y="4710" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 4740px; margin-left: 526px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">订单的状态更新为已付款</div></div></div></foreignObject><text x="585" y="4744" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单的状态更新为已付款</text></switch></g><path d="M 400.22 4480 L 400.2 4535 L 510.51 4535" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 515.76 4535 L 508.76 4538.5 L 510.51 4535 L 508.76 4531.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="328.69" y="4400" width="143.06" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 141px; height: 1px; padding-top: 4440px; margin-left: 330px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每天晚上定时下载支付宝对账有问题的账单，比如支付成功后异步通知迟迟不来的</div></div></div></foreignObject><text x="400" y="4444" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每天晚上定时下载支付宝对账有问题的账单，比如支付成功后异步通知迟迟不来的</text></switch></g><path d="M 380.22 4342 L 405.22 4342 L 405.22 4330 L 420.22 4360 L 405.22 4390 L 405.22 4378 L 380.22 4378 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" transform="rotate(90,400.22,4360)" pointer-events="all"/><path d="M 328.69 760 L 323.69 760 Q 318.69 760 318.69 770 L 318.69 1115 Q 318.69 1125 313.69 1125 L 311.19 1125 Q 308.69 1125 313.69 1125 L 316.19 1125 Q 318.69 1125 318.69 1135 L 318.69 1480 Q 318.69 1490 323.69 1490 L 328.69 1490" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="168.69" y="1095" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 1125px; margin-left: 170px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">下订单</div></div></div></foreignObject><text x="236" y="1129" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">下订单</text></switch></g><path d="M 210 1765 L 205 1765 Q 200 1765 200 1775 L 200 2022.5 Q 200 2032.5 195 2032.5 L 192.5 2032.5 Q 190 2032.5 195 2032.5 L 197.5 2032.5 Q 200 2032.5 200 2042.5 L 200 2290 Q 200 2300 205 2300 L 210 2300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="40" y="2002.5" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 2033px; margin-left: 41px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">锁库存</div></div></div></foreignObject><text x="108" y="2036" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">锁库存</text></switch></g><path d="M 210 2315 L 205 2315 Q 200 2315 200 2325 L 200 2927.5 Q 200 2937.5 195 2937.5 L 192.5 2937.5 Q 190 2937.5 195 2937.5 L 197.5 2937.5 Q 200 2937.5 200 2947.5 L 200 3550 Q 200 3560 205 3560 L 210 3560" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="2907.5" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 2938px; margin-left: 1px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分布式事务方案<br />柔性事务 - 可靠消息+最终一致性</div></div></div></foreignObject><text x="68" y="2941" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分布式事务方案&#xa;柔性事务 - 可靠消息+最终一致性</text></switch></g><path d="M 210 3572.5 L 205 3572.5 Q 200 3572.5 200 3582.5 L 200 3926.25 Q 200 3936.25 195 3936.25 L 192.5 3936.25 Q 190 3936.25 195 3936.25 L 197.5 3936.25 Q 200 3936.25 200 3946.25 L 200 4290 Q 200 4300 205 4300 L 210 4300" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="3906.25" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 3936px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付 + 返回订单列表页的数据</div></div></div></foreignObject><text x="78" y="3940" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付 + 返回订单列表页的数据</text></switch></g><path d="M 207.5 4330 L 202.5 4330 Q 197.5 4330 197.5 4340 L 197.5 4535 Q 197.5 4545 192.5 4545 L 190 4545 Q 187.5 4545 192.5 4545 L 195 4545 Q 197.5 4545 197.5 4555 L 197.5 4750 Q 197.5 4760 202.5 4760 L 207.5 4760" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="10" y="4520" width="135" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 133px; height: 1px; padding-top: 4550px; margin-left: 11px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">支付宝异步通知处理<br />最大努力通知型方案</div></div></div></foreignObject><text x="78" y="4554" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">支付宝异步通知处理&#xa;最大努力通知型方案</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>