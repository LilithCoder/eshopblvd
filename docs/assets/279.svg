<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="691px" height="1504px" viewBox="-0.5 -0.5 691 1504" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-27T05:16:29.619Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;rrB4qAg7IZqrT9kpXGg4&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;vkLvwyprUSw4FaoFmcBs&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f8cecc-1-ea6b66-1-s-0"><stop offset="0%" style="stop-color:#f8cecc"/><stop offset="100%" style="stop-color:#ea6b66"/></linearGradient></defs><g><path d="M 310 100 L 310 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 128.88 L 306.5 121.88 L 310 123.63 L 313.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="250" y="40" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 70px; margin-left: 251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">秒杀商品<br />定时上架</div></div></div></foreignObject><text x="310" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀商品&#xa;定时上架</text></switch></g><path d="M 310 190 L 310 213.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 218.88 L 306.5 211.88 L 310 213.63 L 313.5 211.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="250" y="130" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 160px; margin-left: 251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">定时任务<br />（cron表达式）<br /> 每天三点上架</div></div></div></foreignObject><text x="310" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">定时任务（cron表达式）...</text></switch></g><path d="M 260 0 L 350 0 L 350 0 L 360 15 L 350 30 L 350 30 L 260 30 L 270 15 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀服务</div></div></div></foreignObject><text x="310" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务</text></switch></g><path d="M 310 290 L 310 313.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 318.88 L 306.5 311.88 L 310 313.63 L 313.5 311.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="240" y="220" width="140" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 255px; margin-left: 241px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>使用分布式锁</div><div>避免分布式情况下多服务</div><div>同时上架的情况</div><div><font color="#ff1414">key为seckill:upload:lock</font><br /></div></div></div></div></foreignObject><text x="310" y="259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用分布式锁避免分布式情况下多服务同时上架的情况key为seckill:upload:lock...</text></switch></g><path d="M 310 410 L 310 463.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 468.88 L 306.5 461.88 L 310 463.63 L 313.5 461.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="215" y="320" width="190" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 365px; margin-left: 216px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">扫描最近三天需要参与秒杀的活动<br /><br />封装数据，返回查到的所有秒杀场次以及对应的商品</div></div></div></foreignObject><text x="310" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">扫描最近三天需要参与秒杀的活动封装数据，返回查到的所有秒杀场次以及对应的商品...</text></switch></g><path d="M 420 350 L 510 350 L 510 350 L 520 365 L 510 380 L 510 380 L 420 380 L 430 365 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 365px; margin-left: 470px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">优惠服务</div></div></div></foreignObject><text x="470" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">优惠服务</text></switch></g><path d="M 310 550 L 310 613.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 618.88 L 306.5 611.88 L 310 613.63 L 313.5 611.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="160" y="470" width="300" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 510px; margin-left: 161px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 12px">上架秒杀活动信息<br />存储的秒杀场次对应数据<br /><font color="#ff1414">K: "<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span>" + startTime + "_" + endTime</span><br /></font>V: sessionId+"-"+skuId的List</font></div></div></div></foreignObject><text x="310" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">上架秒杀活动信息存储的秒杀场次对应数据K: "seckill:sessions:" + startTime + "_" + endTime...</text></switch></g><path d="M 310 710 L 310 763.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 310 768.88 L 306.5 761.88 L 310 763.63 L 313.5 761.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="195" y="620" width="230" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 665px; margin-left: 196px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">上架秒杀商品<br />存储的秒杀商品数据<br /><font style="font-size: 12px" color="#ff1414">K: 固定值"<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:skus</span><span>"</span><br /></font>V: hash，k为sessionId+"-"+skuId，v为对应的商品信息SeckillSkuRedisTo</div></div></div></foreignObject><text x="310" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">上架秒杀商品存储的秒杀商品数据K: 固定值"seckill:skus"...</text></switch></g><path d="M 440 648.71 L 451.71 648.71 L 451.71 635 L 460 665 L 451.71 695 L 451.71 681.29 L 440 681.29 Z" fill="url(#mx-gradient-f8cecc-1-ea6b66-1-s-0)" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><path d="M 480 493.71 L 491.71 493.71 L 491.71 480 L 500 510 L 491.71 540 L 491.71 526.29 L 480 526.29 Z" fill="url(#mx-gradient-f8cecc-1-ea6b66-1-s-0)" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><rect x="510" y="465" width="180" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 510px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个秒杀活动都设置过期时间<br /><br />为了保证幂等性，先查下这个活动有没有上架过，有就不要上了</div></div></div></foreignObject><text x="600" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个秒杀活动都设置过期时间为了保证幂等性，先查下这个活动有没有上架过，有就不要上了...</text></switch></g><path d="M 590 750 L 590 773.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590 778.88 L 586.5 771.88 L 590 773.63 L 593.5 771.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="530" y="690" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 720px; margin-left: 531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个商品封装的信息里包括了开始结束时间、sku信息（rpc查询商品服务</div></div></div></foreignObject><text x="590" y="724" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个商品封装的信息里包括了开始结束时间、sku信息（rpc查询商品服务</text></switch></g><path d="M 590 660 L 590 683.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590 688.88 L 586.5 681.88 L 590 683.63 L 593.5 681.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="510" y="590" width="160" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 625px; margin-left: 511px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">为了幂等性保证，先查下这个活动的商品有没有上架过，<br />保证这个场次下的这个商品没有上架过</div></div></div></foreignObject><text x="590" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">为了幂等性保证，先查下这个活动的商品有没有上架过，&#xa;保证这个场次下的这个商品没有上架过</text></switch></g><path d="M 590 840 L 590 863.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590 868.88 L 586.5 861.88 L 590 863.63 L 593.5 861.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="530" y="780" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 810px; margin-left: 531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">为每个秒杀sku生成一个随机值，秒杀开始后才能得到这个随机码，防止恶意攻击</div></div></div></foreignObject><text x="590" y="814" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">为每个秒杀sku生成一个随机值，秒杀开始后才能得到这个随机码，防止恶意攻击</text></switch></g><path d="M 590 940 L 590 963.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590 968.88 L 586.5 961.88 L 590 963.63 L 593.5 961.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="490" y="870" width="200" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 905px; margin-left: 491px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">使用商品可以秒杀的数量作为Redisson信号量限制库存，设置ttl<br /><font style="font-size: 12px" color="#ff1414">key为<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span><font style="font-size: 12px" color="#ff1414">+随机码<br /></font>（防止恶意攻击）</span></div></div></div></foreignObject><text x="590" y="909" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用商品可以秒杀的数量作为Redisson信号量限制库存，设置ttl...</text></switch></g><rect x="530" y="970" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1000px; margin-left: 531px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存服务的库存锁定数要加上上架的个数</div></div></div></foreignObject><text x="590" y="1004" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务的库存锁定数要加上上架的个数</text></switch></g><rect x="195" y="1118" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1128px; margin-left: 196px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(255 , 20 , 20)">seckill:upload:lock</span></div></div></div></foreignObject><text x="245" y="1132" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">seckill:upload:l...</text></switch></g><rect x="315" y="1118" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1128px; margin-left: 316px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分布式锁</div></div></div></foreignObject><text x="345" y="1132" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分布式锁</text></switch></g><rect x="5" y="1188" width="310" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1198px; margin-left: 160px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20)">"</span><span style="color: rgb(255 , 20 , 20) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span style="color: rgb(255 , 20 , 20)">" + startTime1 + "_" + endTime1</span></div></div></div></foreignObject><text x="160" y="1202" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:sessions:" + startTime1 + "_" + endTime1</text></switch></g><rect x="250" y="770" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 251px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">结束</div></div></div></foreignObject><text x="310" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">结束</text></switch></g><rect x="0" y="1278" width="310" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20)">"</span><span style="color: rgb(255 , 20 , 20) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span style="color: rgb(255 , 20 , 20)">" + startTime2 + "_" + endTime2</span></div></div></div></foreignObject><text x="155" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:sessions:" + startTime2 + "_" + endTime2</text></switch></g><rect x="340" y="1158" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1168px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId1+"-"+skuId1</span></div></div></div></foreignObject><text x="405" y="1172" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId1</text></switch></g><rect x="340" y="1185" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1195px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId1+"-"+skuId2</span></div></div></div></foreignObject><text x="405" y="1199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId2</text></switch></g><rect x="340" y="1211" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1221px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId1+"-"+skuId3</span></div></div></div></foreignObject><text x="405" y="1225" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId3</text></switch></g><rect x="120" y="1158" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1168px; margin-left: 155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀场次1</div></div></div></foreignObject><text x="155" y="1172" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀场次1</text></switch></g><rect x="120" y="1248" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1258px; margin-left: 155px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀场次2</div></div></div></foreignObject><text x="155" y="1262" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀场次2</text></switch></g><rect x="340" y="1238" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1248px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId1</span></div></div></div></foreignObject><text x="405" y="1252" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId1</text></switch></g><rect x="340" y="1268" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1278px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId2</span></div></div></div></foreignObject><text x="405" y="1282" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId2</text></switch></g><rect x="340" y="1298" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1308px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId2+"-"+skuId3</span></div></div></div></foreignObject><text x="405" y="1312" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId3</text></switch></g><rect x="470" y="1184.5" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1195px; margin-left: 515px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">场次1的商品们</div></div></div></foreignObject><text x="515" y="1198" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">场次1的商品们</text></switch></g><rect x="470" y="1268" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1278px; margin-left: 515px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">场次2的商品们</div></div></div></foreignObject><text x="515" y="1282" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">场次2的商品们</text></switch></g><rect x="140" y="1438" width="180" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1448px; margin-left: 230px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font color="#ff1414"><span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span><font color="#ff1414">+随机码1</font></span></div></div></div></foreignObject><text x="230" y="1452" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:stock:"+随机码1</text></switch></g><rect x="335" y="1438" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1448px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品1的库存信号量</div></div></div></foreignObject><text x="395" y="1452" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品1的库存信号量</text></switch></g><rect x="140" y="1473" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 178px; height: 1px; padding-top: 1480px; margin-left: 142px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#ff1414" style="font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)"><span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)"><font color="#ff1414" style="font-size: 12px">+随机码2</font></span></div></div></div></foreignObject><text x="142" y="1492" fill="#000000" font-family="Helvetica" font-size="12px">"seckill:stock:"+随机码2</text></switch></g><rect x="335" y="1478" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1488px; margin-left: 395px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品2的库存信号量</div></div></div></foreignObject><text x="395" y="1492" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品2的库存信号量</text></switch></g><rect x="220" y="1378" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1388px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20) ; font-family: &quot;jetbrains mono&quot; , monospace ; background-color: rgb(255 , 255 , 255)">seckill:skus</span></div></div></div></foreignObject><text x="270" y="1392" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">seckill:skus</text></switch></g><rect x="240" y="1358" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1368px; margin-left: 270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀商品</div></div></div></foreignObject><text x="270" y="1372" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀商品</text></switch></g><path d="M 335 1343 L 330 1343 Q 325 1343 325 1353 L 325 1368 Q 325 1378 320 1378 L 317.5 1378 Q 315 1378 320 1378 L 322.5 1378 Q 325 1378 325 1388 L 325 1403 Q 325 1413 330 1413 L 335 1413" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 470 1348 L 553.63 1348" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 558.88 1348 L 551.88 1351.5 L 553.63 1348 L 551.88 1344.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="1338" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1348px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId1</span></div></div></div></foreignObject><text x="405" y="1352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId1</text></switch></g><path d="M 470 1378 L 553.63 1378" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 558.88 1378 L 551.88 1381.5 L 553.63 1378 L 551.88 1374.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="1368" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId2</span></div></div></div></foreignObject><text x="405" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId2</text></switch></g><path d="M 470 1408 L 553.63 1408" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 558.88 1408 L 551.88 1411.5 L 553.63 1408 L 551.88 1404.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="340" y="1398" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1408px; margin-left: 405px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId2+"-"+skuId3</span></div></div></div></foreignObject><text x="405" y="1412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId3</text></switch></g><rect x="560" y="1338" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1348px; margin-left: 615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>商品1的封装信息</span></div></div></div></foreignObject><text x="615" y="1352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品1的封装信息</text></switch></g><rect x="560" y="1368" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品2的封装信息</div></div></div></foreignObject><text x="615" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品2的封装信息</text></switch></g><rect x="560" y="1398" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1408px; margin-left: 615px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品3的封装信息</div></div></div></foreignObject><text x="615" y="1412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品3的封装信息</text></switch></g><rect x="320" y="1248" width="10" height="60" fill="none" stroke="none" pointer-events="all"/><path d="M 330 1248 L 320 1248 L 320 1308 L 330 1308" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="320" y="1171" width="10" height="47" fill="none" stroke="none" pointer-events="all"/><path d="M 330 1171 L 320 1171 L 320 1218 L 330 1218" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="255" y="1048" width="120" height="60" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1078px; margin-left: 256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">秒杀服务的redis数据结构</div></div></div></foreignObject><text x="315" y="1082" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务的redis数据结构</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>