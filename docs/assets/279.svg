<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="801px" height="3231px" viewBox="-0.5 -0.5 801 3231" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2022-05-27T18:00:51.256Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 12_3_1) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/14.4.3 Chrome/87.0.4280.141 Electron/11.3.0 Safari/537.36&quot; etag=&quot;YnL_F94hPPxQBM80nkmw&quot; version=&quot;14.4.3&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;vkLvwyprUSw4FaoFmcBs&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f8cecc-1-ea6b66-1-s-0"><stop offset="0%" style="stop-color:#f8cecc"/><stop offset="100%" style="stop-color:#ea6b66"/></linearGradient></defs><g><path d="M 370 100 L 370 123.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 128.88 L 366.5 121.88 L 370 123.63 L 373.5 121.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="40" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 70px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">秒杀商品<br />定时上架</div></div></div></foreignObject><text x="370" y="74" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀商品&#xa;定时上架</text></switch></g><path d="M 370 190 L 370 213.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 218.88 L 366.5 211.88 L 370 213.63 L 373.5 211.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="310" y="130" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 160px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">定时任务<br />（cron表达式）<br /> 每天三点上架</div></div></div></foreignObject><text x="370" y="164" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">定时任务（cron表达式）...</text></switch></g><path d="M 320 0 L 410 0 L 410 0 L 420 15 L 410 30 L 410 30 L 320 30 L 330 15 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 15px; margin-left: 370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀服务</div></div></div></foreignObject><text x="370" y="19" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务</text></switch></g><path d="M 370 290 L 370 313.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 318.88 L 366.5 311.88 L 370 313.63 L 373.5 311.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="300" y="220" width="140" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 255px; margin-left: 301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>使用分布式锁</div><div>避免分布式情况下多服务</div><div>同时上架的情况</div><div><font color="#ff1414">key为seckill:upload:lock</font><br /></div></div></div></div></foreignObject><text x="370" y="259" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用分布式锁避免分布式情况下多服务同时上架的情况key为seckill:upload:lock...</text></switch></g><path d="M 370 410 L 370 463.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 468.88 L 366.5 461.88 L 370 463.63 L 373.5 461.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="275" y="320" width="190" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 188px; height: 1px; padding-top: 365px; margin-left: 276px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">扫描最近三天需要参与秒杀的活动<br /><br />封装数据，返回查到的所有秒杀场次以及对应的商品</div></div></div></foreignObject><text x="370" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">扫描最近三天需要参与秒杀的活动封装数据，返回查到的所有秒杀场次以及对应的商品...</text></switch></g><path d="M 480 350 L 570 350 L 570 350 L 580 365 L 570 380 L 570 380 L 480 380 L 490 365 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 365px; margin-left: 530px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">优惠服务</div></div></div></foreignObject><text x="530" y="369" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">优惠服务</text></switch></g><path d="M 370 550 L 370 613.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 618.88 L 366.5 611.88 L 370 613.63 L 373.5 611.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="470" width="300" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 298px; height: 1px; padding-top: 510px; margin-left: 221px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 12px">上架秒杀活动信息<br />存储的秒杀场次对应数据<br /><font color="#ff1414">K: "<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span>" + startTime + "_" + endTime</span><br /></font>V: sessionId+"-"+skuId的List</font></div></div></div></foreignObject><text x="370" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">上架秒杀活动信息存储的秒杀场次对应数据K: "seckill:sessions:" + startTime + "_" + endTime...</text></switch></g><path d="M 370 710 L 370 763.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 768.88 L 366.5 761.88 L 370 763.63 L 373.5 761.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="255" y="620" width="230" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 228px; height: 1px; padding-top: 665px; margin-left: 256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">上架秒杀商品<br />存储的秒杀商品数据<br /><font style="font-size: 12px" color="#ff1414">K: 固定值"<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:skus</span><span>"</span><br /></font>V: hash，k为sessionId+"-"+skuId，v为对应的商品信息SeckillSkuRedisTo</div></div></div></foreignObject><text x="370" y="669" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">上架秒杀商品存储的秒杀商品数据K: 固定值"seckill:skus"...</text></switch></g><path d="M 500 648.71 L 511.71 648.71 L 511.71 635 L 520 665 L 511.71 695 L 511.71 681.29 L 500 681.29 Z" fill="url(#mx-gradient-f8cecc-1-ea6b66-1-s-0)" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><path d="M 540 493.71 L 551.71 493.71 L 551.71 480 L 560 510 L 551.71 540 L 551.71 526.29 L 540 526.29 Z" fill="url(#mx-gradient-f8cecc-1-ea6b66-1-s-0)" stroke="#b85450" stroke-miterlimit="10" pointer-events="all"/><rect x="570" y="465" width="180" height="90" rx="13.5" ry="13.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 178px; height: 1px; padding-top: 510px; margin-left: 571px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个秒杀活动都设置过期时间<br /><br />为了保证幂等性，先查下这个活动有没有上架过，有就不要上了</div></div></div></foreignObject><text x="660" y="514" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个秒杀活动都设置过期时间为了保证幂等性，先查下这个活动有没有上架过，有就不要上了...</text></switch></g><path d="M 650 750 L 650 773.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 650 778.88 L 646.5 771.88 L 650 773.63 L 653.5 771.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="590" y="690" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 720px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">每个商品封装的信息里包括了开始结束时间、sku信息（rpc查询商品服务</div></div></div></foreignObject><text x="650" y="724" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">每个商品封装的信息里包括了开始结束时间、sku信息（rpc查询商品服务</text></switch></g><path d="M 650 660 L 650 683.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 650 688.88 L 646.5 681.88 L 650 683.63 L 653.5 681.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="570" y="590" width="160" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 625px; margin-left: 571px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">为了幂等性保证，先查下这个活动的商品有没有上架过，<br />保证这个场次下的这个商品没有上架过</div></div></div></foreignObject><text x="650" y="629" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">为了幂等性保证，先查下这个活动的商品有没有上架过，&#xa;保证这个场次下的这个商品没有上架过</text></switch></g><path d="M 650 840 L 650 863.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 650 868.88 L 646.5 861.88 L 650 863.63 L 653.5 861.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="590" y="780" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 810px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">为每个秒杀sku生成一个随机值，秒杀开始后才能得到这个随机码，防止恶意攻击</div></div></div></foreignObject><text x="650" y="814" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">为每个秒杀sku生成一个随机值，秒杀开始后才能得到这个随机码，防止恶意攻击</text></switch></g><path d="M 650 940 L 650 963.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 650 968.88 L 646.5 961.88 L 650 963.63 L 653.5 961.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="550" y="870" width="200" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 905px; margin-left: 551px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">使用商品可以秒杀的数量作为Redisson信号量限制库存，设置ttl<br /><font style="font-size: 12px" color="#ff1414">key为<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span><font style="font-size: 12px" color="#ff1414">+随机码<br /></font>（防止恶意攻击）</span></div></div></div></foreignObject><text x="650" y="909" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">使用商品可以秒杀的数量作为Redisson信号量限制库存，设置ttl...</text></switch></g><rect x="590" y="970" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1000px; margin-left: 591px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">库存服务的库存锁定数要加上上架的个数</div></div></div></foreignObject><text x="650" y="1004" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">库存服务的库存锁定数要加上上架的个数</text></switch></g><rect x="255" y="1118" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 1128px; margin-left: 256px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="color: rgb(255 , 20 , 20)">seckill:upload:lock</span></div></div></div></foreignObject><text x="305" y="1132" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">seckill:upload:l...</text></switch></g><rect x="375" y="1118" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 1128px; margin-left: 376px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">分布式锁</div></div></div></foreignObject><text x="405" y="1132" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">分布式锁</text></switch></g><rect x="65" y="1188" width="310" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1198px; margin-left: 220px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20)">"</span><span style="color: rgb(255 , 20 , 20) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span style="color: rgb(255 , 20 , 20)">" + startTime1 + "_" + endTime1</span></div></div></div></foreignObject><text x="220" y="1202" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:sessions:" + startTime1 + "_" + endTime1</text></switch></g><rect x="310" y="770" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 800px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">结束</div></div></div></foreignObject><text x="370" y="804" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">结束</text></switch></g><rect x="60" y="1278" width="310" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20)">"</span><span style="color: rgb(255 , 20 , 20) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">seckill:sessions:</span><span style="color: rgb(255 , 20 , 20)">" + startTime2 + "_" + endTime2</span></div></div></div></foreignObject><text x="215" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:sessions:" + startTime2 + "_" + endTime2</text></switch></g><rect x="400" y="1158" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1168px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId1+"-"+skuId1</span></div></div></div></foreignObject><text x="465" y="1172" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId1</text></switch></g><rect x="400" y="1185" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1195px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId1+"-"+skuId2</span></div></div></div></foreignObject><text x="465" y="1199" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId2</text></switch></g><rect x="400" y="1211" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1221px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId1+"-"+skuId3</span></div></div></div></foreignObject><text x="465" y="1225" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId1+"-"+skuId3</text></switch></g><rect x="180" y="1158" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1168px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀场次1</div></div></div></foreignObject><text x="215" y="1172" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀场次1</text></switch></g><rect x="180" y="1248" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1258px; margin-left: 215px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀场次2</div></div></div></foreignObject><text x="215" y="1262" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀场次2</text></switch></g><rect x="400" y="1238" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1248px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId1</span></div></div></div></foreignObject><text x="465" y="1252" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId1</text></switch></g><rect x="400" y="1268" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1278px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId2</span></div></div></div></foreignObject><text x="465" y="1282" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId2</text></switch></g><rect x="400" y="1298" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1308px; margin-left: 465px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId2+"-"+skuId3</span></div></div></div></foreignObject><text x="465" y="1312" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId3</text></switch></g><rect x="530" y="1184.5" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1194px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">场次1的商品们</div></div></div></foreignObject><text x="575" y="1198" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">场次1的商品们</text></switch></g><rect x="530" y="1268" width="90" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1278px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">场次2的商品们</div></div></div></foreignObject><text x="575" y="1282" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">场次2的商品们</text></switch></g><rect x="200" y="1438" width="180" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1448px; margin-left: 290px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><font color="#ff1414"><span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span><font color="#ff1414">+随机码1</font></span></div></div></div></foreignObject><text x="290" y="1452" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">"seckill:stock:"+随机码1</text></switch></g><rect x="395" y="1438" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1448px; margin-left: 455px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品1的库存信号量</div></div></div></foreignObject><text x="455" y="1452" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品1的库存信号量</text></switch></g><rect x="200" y="1473" width="180" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 178px; height: 1px; padding-top: 1480px; margin-left: 202px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#ff1414" style="font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)"><span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"</span></font><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250)"><font color="#ff1414" style="font-size: 12px">+随机码2</font></span></div></div></div></foreignObject><text x="202" y="1492" fill="#000000" font-family="Helvetica" font-size="12px">"seckill:stock:"+随机码2</text></switch></g><rect x="395" y="1478" width="120" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1488px; margin-left: 455px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品2的库存信号量</div></div></div></foreignObject><text x="455" y="1492" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品2的库存信号量</text></switch></g><rect x="250" y="1378" width="100" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1388px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(255 , 20 , 20) ; font-family: &quot;jetbrains mono&quot; , monospace ; background-color: rgb(255 , 255 , 255)">seckill:skus</span></div></div></div></foreignObject><text x="300" y="1392" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">seckill:skus</text></switch></g><rect x="270" y="1358" width="60" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1368px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀商品</div></div></div></foreignObject><text x="300" y="1372" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀商品</text></switch></g><path d="M 365 1343 L 360 1343 Q 355 1343 355 1353 L 355 1368 Q 355 1378 350 1378 L 347.5 1378 Q 345 1378 350 1378 L 352.5 1378 Q 355 1378 355 1388 L 355 1403 Q 355 1413 360 1413 L 365 1413" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 500 1348 L 520.03 1348 L 500.03 1348 L 513.63 1348" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 518.88 1348 L 511.88 1351.5 L 513.63 1348 L 511.88 1344.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="370" y="1338" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1348px; margin-left: 435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId1</span></div></div></div></foreignObject><text x="435" y="1352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId1</text></switch></g><path d="M 500 1378 L 520.03 1378 L 500.03 1378 L 513.63 1378" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 518.88 1378 L 511.88 1381.5 L 513.63 1378 L 511.88 1374.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="370" y="1368" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>sessionId2+"-"+skuId2</span></div></div></div></foreignObject><text x="435" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId2</text></switch></g><path d="M 500 1408 L 520.03 1408 L 500.03 1408 L 513.63 1408" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 518.88 1408 L 511.88 1411.5 L 513.63 1408 L 511.88 1404.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="370" y="1398" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1408px; margin-left: 435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">sessionId2+"-"+skuId3</span></div></div></div></foreignObject><text x="435" y="1412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">sessionId2+"-"+skuId3</text></switch></g><path d="M 630 1348 L 650.03 1348 L 630.03 1348 L 643.63 1348" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 648.88 1348 L 641.88 1351.5 L 643.63 1348 L 641.88 1344.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="520" y="1338" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1348px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; "><span>商品1的封装信息</span></div></div></div></foreignObject><text x="575" y="1352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品1的封装信息</text></switch></g><rect x="520" y="1368" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1378px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品2的封装信息</div></div></div></foreignObject><text x="575" y="1382" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品2的封装信息</text></switch></g><rect x="520" y="1398" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1408px; margin-left: 575px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品3的封装信息</div></div></div></foreignObject><text x="575" y="1412" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品3的封装信息</text></switch></g><rect x="380" y="1248" width="10" height="60" fill="none" stroke="none" pointer-events="all"/><path d="M 390 1248 L 380 1248 L 380 1308 L 390 1308" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="380" y="1171" width="10" height="47" fill="none" stroke="none" pointer-events="all"/><path d="M 390 1171 L 380 1171 L 380 1218 L 390 1218" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="315" y="1048" width="120" height="60" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1078px; margin-left: 316px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">秒杀服务的redis数据结构</div></div></div></foreignObject><text x="375" y="1082" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务的redis数据结构</text></switch></g><rect x="650" y="1338" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1348px; margin-left: 725px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">包括了每个商品的随机码</div></div></div></foreignObject><text x="725" y="1352" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">包括了每个商品的随机码</text></switch></g><rect x="185" y="1360" width="70" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1370px; margin-left: 220px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">Hash结构</div></div></div></foreignObject><text x="220" y="1374" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">Hash结构</text></switch></g><rect x="0" y="1188" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1198px; margin-left: 25px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">list结构</div></div></div></foreignObject><text x="25" y="1202" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">list结构</text></switch></g><rect x="0" y="1278" width="50" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1288px; margin-left: 25px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">list结构</div></div></div></foreignObject><text x="25" y="1292" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">list结构</text></switch></g><path d="M 170 1645 L 170 1668.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 1673.88 L 166.5 1666.88 L 170 1668.63 L 173.5 1666.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="110" y="1585" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1615px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">首页获取秒杀活动信息</div></div></div></foreignObject><text x="170" y="1619" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">首页获取秒杀活动信息</text></switch></g><path d="M 120 1545 L 210 1545 L 210 1545 L 220 1560 L 210 1575 L 210 1575 L 120 1575 L 130 1560 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 170px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀服务</div></div></div></foreignObject><text x="170" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务</text></switch></g><path d="M 170 1735 L 170 1758.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 1763.88 L 166.5 1756.88 L 170 1758.63 L 173.5 1756.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="110" y="1675" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1705px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">遍历所有场次的key<br />根据key得到开始结束时间</div></div></div></foreignObject><text x="170" y="1709" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">遍历所有场次的key...</text></switch></g><path d="M 170 1825 L 170 1848.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 1853.88 L 166.5 1846.88 L 170 1848.63 L 173.5 1846.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="110" y="1765" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1795px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果当前时间这个秒杀开始了</div></div></div></foreignObject><text x="170" y="1799" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果当前时间这个秒杀开始了</text></switch></g><path d="M 170 1915 L 170 1938.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 1943.88 L 166.5 1936.88 L 170 1938.63 L 173.5 1936.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="110" y="1855" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1885px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取这个场次所有sku的标识</div></div></div></foreignObject><text x="170" y="1889" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取这个场次所有sku的标识</text></switch></g><path d="M 170 2005 L 170 2028.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 2033.88 L 166.5 2026.88 L 170 2028.63 L 173.5 2026.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="110" y="1945" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1975px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">获取所有sku的<br />SeckillSkuRedisTo</div></div></div></foreignObject><text x="170" y="1979" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">获取所有sku的...</text></switch></g><rect x="110" y="2035" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2065px; margin-left: 111px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">封装完返回</div></div></div></foreignObject><text x="170" y="2069" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">封装完返回</text></switch></g><path d="M 547.5 1645 L 547.5 1668.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 547.5 1673.88 L 544 1666.88 L 547.5 1668.63 L 551 1666.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="487.5" y="1585" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1615px; margin-left: 489px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">详情页获取单个商品详情的秒杀优惠信息</div></div></div></foreignObject><text x="548" y="1619" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">详情页获取单个商品详情的秒杀优惠信息</text></switch></g><path d="M 497.5 1545 L 587.5 1545 L 587.5 1545 L 597.5 1560 L 587.5 1575 L 587.5 1575 L 497.5 1575 L 507.5 1560 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1560px; margin-left: 548px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">商品服务</div></div></div></foreignObject><text x="548" y="1564" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">商品服务</text></switch></g><path d="M 547.5 1775 L 547.5 1798.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 547.5 1803.88 L 544 1796.88 L 547.5 1798.63 L 551 1796.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="465" y="1675" width="165" height="100" rx="15" ry="15" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 163px; height: 1px; padding-top: 1725px; margin-left: 466px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">秒杀的商品都在<span style="background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt"> </span><span style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt"><font color="#c41a16">"seckill:skus"下的hash里</font><br />通过正则找到目标sku<br />获取其SeckillSkuRedisTo<br /></span></div></div></div></foreignObject><text x="548" y="1729" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀的商品都在 "seckill:skus"下的hash里...</text></switch></g><path d="M 547.5 1865 L 547.5 1888.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 547.5 1893.88 L 544 1886.88 L 547.5 1888.63 L 551 1886.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="482.5" y="1805" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 1835px; margin-left: 484px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果商品过期了，直接删除且不返回随机码<br /></div></div></div></foreignObject><text x="548" y="1839" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果商品过期了，直接删除且不返回随机码&#xa;</text></switch></g><rect x="487.5" y="1895" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1925px; margin-left: 489px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">跟商品详情数据一起返回</div></div></div></foreignObject><text x="548" y="1929" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">跟商品详情数据一起返回</text></switch></g><path d="M 642.5 1710 L 732.5 1710 L 732.5 1710 L 742.5 1725 L 732.5 1740 L 732.5 1740 L 642.5 1740 L 652.5 1725 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1725px; margin-left: 693px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀服务</div></div></div></foreignObject><text x="693" y="1729" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务</text></switch></g><path d="M 365 2240 L 365 2263.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365 2268.88 L 361.5 2261.88 L 365 2263.63 L 368.5 2261.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="305" y="2180" width="120" height="60" rx="9" ry="9" fill="#cdeb8b" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2210px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">立即抢购，秒杀</div></div></div></foreignObject><text x="365" y="2214" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">立即抢购，秒杀</text></switch></g><path d="M 365 2320 L 365 2353.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365 2358.88 L 361.5 2351.88 L 365 2353.63 L 368.5 2351.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="301.25" y="2270" width="127.5" height="50" rx="7.5" ry="7.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 126px; height: 1px; padding-top: 2295px; margin-left: 302px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="font-family: &quot;jetbrains mono&quot; , monospace ; font-size: 9.8pt">拦截器登陆判断<br /></span></div></div></div></foreignObject><text x="365" y="2299" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">拦截器登陆判断&#xa;</text></switch></g><path d="M 365 2420 L 365 2453.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 365 2458.88 L 361.5 2451.88 L 365 2453.63 L 368.5 2451.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="300" y="2360" width="130" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 2390px; margin-left: 301px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证秒杀活动是否已经过期</div></div></div></foreignObject><text x="365" y="2394" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证秒杀活动是否已经过期</text></switch></g><rect x="305" y="2460" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2490px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证商品和商品随机码是否对应</div></div></div></foreignObject><text x="365" y="2494" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证商品和商品随机码是否对应</text></switch></g><path d="M 320 2140 L 410 2140 L 410 2140 L 420 2155 L 410 2170 L 410 2170 L 320 2170 L 330 2155 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2155px; margin-left: 370px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">秒杀服务</div></div></div></foreignObject><text x="370" y="2159" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">秒杀服务</text></switch></g><rect x="305" y="2550" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2580px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证当前用户是否已经买过了<br />保证幂等性</div></div></div></foreignObject><text x="365" y="2584" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证当前用户是否已经买过了&#xa;保证幂等性</text></switch></g><path d="M 442.5 2460 L 612.5 2460 L 612.5 2560 L 491.4 2560 L 442.5 2590 L 471.4 2560 L 442.5 2560 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 2510px; margin-left: 444px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">通过在redis中使用 <br />userId_SessionId_skuId 来占位看是否买过<br />value是历史购买数量<br />过期时间为这次活动时长</div></div></div></foreignObject><text x="528" y="2513" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">通过在redis中使用...</text></switch></g><rect x="305" y="2650" width="125" height="70" rx="10.5" ry="10.5" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 123px; height: 1px; padding-top: 2685px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">验证购物数量是否小于限购数量</div></div></div></foreignObject><text x="368" y="2689" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">验证购物数量是否小于限购数量</text></switch></g><rect x="310" y="2750" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2780px; margin-left: 311px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">通过信号量、购买数量锁定成功库存</div></div></div></foreignObject><text x="370" y="2784" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">通过信号量、购买数量锁定成功库存</text></switch></g><path d="M 370 2910 L 370 2963.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 370 2968.88 L 366.5 2961.88 L 370 2963.63 L 373.5 2961.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2938px; margin-left: 369px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.seckill.order</div></div></div></foreignObject><text x="369" y="2941" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.seckill.order</text></switch></g><rect x="305" y="2830" width="130" height="80" rx="12" ry="12" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 2870px; margin-left: 306px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">如果锁定成功<br />快速构建订单、订单号<br />发消息</div></div></div></foreignObject><text x="370" y="2874" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">如果锁定成功快速构建订单、订单号发消息...</text></switch></g><path d="M 370 3030 L 370.03 3055.03 L 237.48 3055.03 L 237.48 3100 L 251.13 3100" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 256.38 3100 L 249.38 3103.5 L 251.13 3100 L 249.38 3096.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3052px; margin-left: 300px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">order.seckill.order</div></div></div></foreignObject><text x="300" y="3056" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">order.seckill.order</text></switch></g><path d="M 333.27 2970 L 406.73 2970 C 411.3 2970 415 2983.43 415 3000 C 415 3016.57 411.3 3030 406.73 3030 L 333.27 3030 C 328.7 3030 325 3016.57 325 3000 C 325 2983.43 328.7 2970 333.27 2970 Z" fill="#008a00" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 406.73 2970 C 402.17 2970 398.47 2983.43 398.47 3000 C 398.47 3016.57 402.17 3030 406.73 3030" fill="none" stroke="#005700" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 88px; height: 1px; padding-top: 3000px; margin-left: 326px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order-<br />event-<br />exchange<br />Topic类型</div></div></div></foreignObject><text x="370" y="3004" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order-...</text></switch></g><path d="M 445 2710 L 620 2710 L 620 2750 L 494.75 2750 L 445 2780 L 474.75 2750 L 445 2750 Z" fill="#fff2cc" stroke="#d6b656" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 173px; height: 1px; padding-top: 2730px; margin-left: 446px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font style="font-size: 12px">key为<span style="color: rgb(196 , 26 , 22) ; background-color: rgb(255 , 255 , 255) ; font-family: &quot;jetbrains mono&quot; , monospace">"seckill:stock:"+商品随机值</span></font></div></div></div></foreignObject><text x="533" y="2733" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">key为"seckill:stock:"+商品随机值</text></switch></g><path d="M 477.5 3100 L 497.48 3100 L 497.48 3145.03 L 367.48 3145.03 L 367.5 3163.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 367.5 3168.88 L 363.99 3161.88 L 367.5 3163.63 L 370.99 3161.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="257.5" y="3080" width="220" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><rect x="259.5" y="3082" width="216" height="36" fill="#1ba1e2" stroke="#006eaf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 214px; height: 1px; padding-top: 3100px; margin-left: 261px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">order.seckill.order.queue队列<br />削峰</div></div></div></foreignObject><text x="368" y="3104" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">order.seckill.order.queue队列...</text></switch></g><rect x="307.5" y="3170" width="120" height="60" rx="9" ry="9" fill="#ffff88" stroke="#36393d" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 3200px; margin-left: 309px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">创建并保存订单、订单项（秒杀单只有一个订单项）</div></div></div></foreignObject><text x="368" y="3204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">创建并保存订单、订单项（秒杀单只有一个订单项）</text></switch></g><path d="M 445 3185 L 535 3185 L 535 3185 L 545 3200 L 535 3215 L 535 3215 L 445 3215 L 455 3200 Z" fill="#dae8fc" stroke="#6c8ebf" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3200px; margin-left: 495px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">订单服务</div></div></div></foreignObject><text x="495" y="3204" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">订单服务</text></switch></g><ellipse cx="470" cy="3020" rx="40" ry="30" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><ellipse cx="470" cy="3020" rx="36" ry="26" fill="none" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 70px; height: 1px; padding-top: 3020px; margin-left: 435px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SeckillOrderTo</div></div></div></foreignObject><text x="470" y="3024" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SeckillOrder...</text></switch></g><rect x="430" y="2145" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 2155px; margin-left: 431px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">独立、解耦的秒杀业务</div></div></div></foreignObject><text x="500" y="2159" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">独立、解耦的秒杀业务</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>